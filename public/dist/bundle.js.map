{"version":3,"file":"dist/bundle.js","mappings":";;;;;;;;;;;;;;AAAA,cAAc,+EAA+B;AAC7C,mBAAmB,mBAAO,CAAC,uDAAmB;AAC/B;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,yEAAyE,0BAA0B,aAAa,iBAAiB,aAAa,0CAA0C,4CAA4C,EAAE;AAClR;AACA,6BAA6B,4EAA4E;;AAEzG;AACA,eAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB;AAC1D,mBAAmB,mMAAmM;AACtN,IAAI;AACJ,qDAAqD,eAAe,kBAAkB,6BAA6B,WAAW;AAC9H,0CAA0C,2BAA2B;AACrE,uBAAuB,mJAAmJ;AAC1K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+FAA+F;AACvH;AACA;;AAEA;AACA;AACA,wCAAwC,gCAAgC;AACxE,qBAAqB,8EAA8E;AACnG,uCAAuC,iBAAiB;AACxD,oBAAoB,kNAAkN;AACtO;AACA;AACA,wCAAwC,gCAAgC;AACxE,qBAAqB,2GAA2G;AAChI,uCAAuC,iBAAiB;AACxD,oBAAoB,kNAAkN;AACtO;;AAEA;AACA;AACA;AACA,uCAAuC,kEAAkE,EAAE;AAC3G,qBAAqB,uIAAuI;AAC5J;AACA;AACA;AACA,4CAA4C,gEAAgE,EAAE;AAC9G,6BAA6B,kJAAkJ;AAC/K,eAAe,sBAAsB;AACrC;AACA;AACA,mDAAmD,gBAAgB,iBAAiB,kBAAkB,YAAY,kBAAkB,6BAA6B,WAAW;AAC5K,0CAA0C,2CAA2C;AACrF,uBAAuB,mDAAmD;AAC1E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;;;;;;;;;;;;;;ACnKe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC,kCAAkC;AAClC,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iEAAe,UAAU;;;;;;;;;;;;;;;ACvRzB;AACA,aAAa;AACb;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA,+BAA+B,8CAA8C;AAC7E,IAAI;AACJ,6BAA6B,8CAA8C;AAC3E;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,aAAa;;;;;;;;;;;;;;;ACvF5B,cAAc,+EAA+B;AAC7C,mBAAmB,mBAAO,CAAC,uDAAmB;AAC/B;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA,kCAAkC,kBAAkB;AACpD,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,uCAAuC,eAAe,0BAA0B,gBAAgB,gBAAgB,+BAA+B,WAAW,EAAE;AAC5M,0CAA0C;AAC1C;AACA,6CAA6C,4CAA4C,WAAW,wBAAwB;AAC5H,8BAA8B,gHAAgH;AAC9I;AACA,iDAAiD,uCAAuC,eAAe,yBAAyB,gBAAgB,gBAAgB,+BAA+B,WAAW,EAAE;AAC5M,2CAA2C;AAC3C;AACA;AACA;;AAEA;AACA,yCAAyC,+DAA+D,SAAS,UAAU,iBAAiB,kBAAkB,SAAS,4BAA4B,EAAE;AACrM;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA,4CAA4C,yCAAyC,yBAAyB,eAAe,qBAAqB,WAAW,kBAAkB;AAC/K,6CAA6C,yCAAyC,6BAA6B,aAAa,yBAAyB,EAAE;AAC3J;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA,kCAAkC,iBAAiB;AACnD,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACrIA,kBAAkB,6EAA8B;AAChD,cAAc,+EAA+B;;AAE9B;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,+CAA+C,uDAAuD,aAAa,uCAAuC,yCAAyC,EAAE;AACrM,gCAAgC,gGAAgG;AAChI,wBAAwB,uBAAuB;AAC/C;AACA,wCAAwC,iCAAiC,WAAW,oBAAoB,0CAA0C,EAAE;;AAEpJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gEAAgE;AACzG,uCAAuC,wDAAwD;AAC/F,sBAAsB,4DAA4D;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;AACA,iCAAiC,kBAAkB;AACnD;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA,8BAA8B,iBAAiB;AAC/C;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjJe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kDAAkD;AACxF,uBAAuB,yFAAyF;AAChH,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;;AAEhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7HA,cAAc,+EAA+B;AAC7C,qBAAqB,mFAAiC;AACtD,mBAAmB,+EAA+B;AAClD,gBAAgB,yEAA4B;AAC5C,iBAAiB,2EAA6B;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,uBAAuB;;AAEtE,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;AACA,mCAAmC,QAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,iEAAe,KAAK;;;;;;;;;;;;;;;ACrGpB,cAAc,+EAA+B;AAC7C,qBAAqB,mFAAiC;;AAEvC;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mKAAmK;AAC/L,sBAAsB,wMAAwM;AAC9N;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mKAAmK;AAC1L,sBAAsB,wMAAwM;AAC9N;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA,uBAAuB,mCAAmC;AAC1D;AACA,wBAAwB,0EAA0E,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAiD,qBAAqB;AACtE,iDAAiD,oCAAoC;AACrF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,QAAQ;AAC3C;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAA0G;AAC1G;AACA,0EAA0E;;AAE1E,8DAA8D,cAAc,mCAAmC,YAAY,4BAA4B,8BAA8B,iBAAiB,gBAAgB,uBAAuB,yBAAyB,mCAAmC,+BAA+B,aAAa,4BAA4B;AACjX;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAA2B;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,WAAW,eAAe,mCAAmC,4BAA4B,8BAA8B,iBAAiB,gBAAgB,uBAAuB,yBAAyB,mCAAmC,gCAAgC,4BAA4B,2EAA2E,UAAU,gBAAgB,uCAAuC,wBAAwB,WAAW,gBAAgB,0DAA0D;AAC7kB,IAAI;AACJ,6CAA6C,WAAW,eAAe,4BAA4B,8BAA8B,iBAAiB,gBAAgB,uBAAuB,yBAAyB,mCAAmC,gCAAgC,4BAA4B;AACjT;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2HAA2H;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,eAAe,YAAY,4BAA4B,8BAA8B,iBAAiB,gBAAgB,uBAAuB,yBAAyB,mCAAmC;AAC3Q;AACA;AACA;AACA,kEAAkE,eAAe,YAAY,4BAA4B,8BAA8B,iBAAiB,gBAAgB,uBAAuB,yBAAyB,mCAAmC;AAC3Q;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,GAAG;AACH;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA,wCAAwC,+CAA+C,EAAE;AACzF,yBAAyB,iGAAiG;AAC1H;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA,wCAAwC,4CAA4C,EAAE;AACtF,yBAAyB,qGAAqG;AAC9H;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,kDAAkD,EAAE;AAClG,+BAA+B,iGAAiG;AAChI;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACtXA,mBAAmB,+EAA+B;AAClD,cAAc,+EAA+B;AAC7C,cAAc,+EAA+B;AAC7C,mBAAmB,6EAA8B;AACjD,sBAAsB,qFAAkC;;;AAGxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA,uCAAuC,kBAAkB;AACzD,2BAA2B,kEAAkE;AAC7F,wBAAwB,gHAAgH;AACxI;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,6BAA6B,kCAAkC;AAC/D,6BAA6B,gCAAgC;AAC7D,6BAA6B,oBAAoB;;AAEjD;;AAEA;;AAEA,8BAA8B,4BAA4B;AAC1D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM;;AAEN;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;;;AAGA,4CAA4C,oEAAoE,aAAa,GAAG;;AAEhI;;;;;AAKA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD,oDAAoD,kBAAkB,eAAe,iCAAiC,kBAAkB,mFAAmF,WAAW,YAAY,+DAA+D,GAAG;AACpW;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,kEAAkE,aAAa,kBAAkB,GAAG;AAC/I;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,oEAAoE,sCAAsC;;AAEhI;AACA;;AAEA;AACA;AACA,qBAAqB,qEAAqE;AAC1F;AACA;;AAEA;AACA;AACA,yCAAyC,2CAA2C,slBAAslB;AAC1qB,0BAA0B,uDAAuD;;AAEjF,0CAA0C,4CAA4C,8rBAA8rB;AACpxB,2BAA2B,wDAAwD;;AAEnF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,oBAAoB,sYAAsY;AAC1Z;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,IAAI;;AAEJ;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,mDAAmD,oDAAoD,gBAAgB,WAAW,YAAY,iBAAiB,YAAY,SAAS,GAAG;AACvL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iDAAiD,gBAAgB,gBAAgB,aAAa,aAAa,YAAY,WAAW,GAAG;;AAE3K,oGAAoG;AACpG;AACA;AACA;AACA,yBAAyB,iEAAiE;AAC1F,6BAA6B,oCAAoC;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,obAAob;AAC/c;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gCAAgC;AAC1E,2BAA2B,oHAAoH;;;AAG/I;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,qIAAqI;AACjK,gCAAgC,4CAA4C;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA,0CAA0C,gCAAgC;AAC1E,2BAA2B,oHAAoH;;;AAG/I;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,6JAA6J;AACzL,gCAAgC,4CAA4C;AAC5E;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,YAAY;;;;;;;;;;;;;;;AChwB3B,cAAc,+EAA+B;AAC9B;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,sFAAsF,EAAE;AACzI,gCAAgC,gEAAgE,qDAAqD,EAAE;AACvJ,kDAAkD,wGAAwG,aAAa,EAAE;AACzK;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,8BAA8B;AAClE,oCAAoC,4BAA4B;AAChE;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,KAAK;AACL,wBAAwB,kBAAkB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0BAA0B;AACpD;;AAEA;AACA,uCAAuC,4BAA4B,MAAM,OAAO,qCAAqC,8vCAA8vC,4BAA4B,YAAY,EAAE;AAC75C;AACA,iDAAiD,qBAAqB,eAAe,aAAa,YAAY,kBAAkB,mBAAmB,cAAc,EAAE;AACnK;AACA,4CAA4C,wDAAwD,EAAE;;AAEtG,mDAAmD,oBAAoB,YAAY,gBAAgB,kBAAkB,YAAY,mBAAmB,cAAc,EAAE;AACpK;AACA,8CAA8C,2DAA2D;;;AAGzG;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,mBAAmB,0DAA0D,mDAAmD,EAAE;AAClI,GAAG;AACH,mBAAmB,wDAAwD,kDAAkD,EAAE;AAC/H;AACA;;AAEA;AACA;AACA,mBAAmB,oFAAoF,EAAE;AACzG,GAAG;AACH;AACA,mBAAmB,uDAAuD,EAAE;AAC5E;AACA;AACA;AACA;AACA,uCAAuC,kGAAkG,QAAQ,cAAc,EAAE;AACjK;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,2EAA2E,qCAAqC;AAChH;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,kDAAkD;AACxH;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,iEAAe,KAAK,EAAC;;AAErB,eAAe;;;;;;;;;;ACnFf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,IAA0C;AAChD;AACA,IAAI,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAC;AACnB,IAAI,KAAK,EAGN;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,sBAAsB,6BAA6B;AACnD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,kBAAkB,wBAAwB;AAC1C;AACA,wCAAwC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,8CAA8C;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;;;;ACx4BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB;AAC5D;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,KAAK;;;;;;UCtNpB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;ACNA,uBAAuB,gGAA6C;AACpE,eAAe,gFAAqC,C","sources":["webpack://virtual-try-on/./scripts/Adjustment.js","webpack://virtual-try-on/./scripts/CacheImage.js","webpack://virtual-try-on/./scripts/DragClass.js","webpack://virtual-try-on/./scripts/EventListener.js","webpack://virtual-try-on/./scripts/ModelGallery.js","webpack://virtual-try-on/./scripts/Resizer.js","webpack://virtual-try-on/./scripts/ShareView.js","webpack://virtual-try-on/./scripts/Tryon.js","webpack://virtual-try-on/./scripts/TryonBar.js","webpack://virtual-try-on/./scripts/TryonPreview.js","webpack://virtual-try-on/./scripts/WebcamToImage.js","webpack://virtual-try-on/./scripts/libs/Tools.js","webpack://virtual-try-on/./scripts/libs/dragdealer.js","webpack://virtual-try-on/./scripts/libs/jsDom.js","webpack://virtual-try-on/webpack/bootstrap","webpack://virtual-try-on/webpack/runtime/define property getters","webpack://virtual-try-on/webpack/runtime/hasOwnProperty shorthand","webpack://virtual-try-on/webpack/runtime/make namespace object","webpack://virtual-try-on/./app.js"],"sourcesContent":["const jsDom = require('./libs/jsDom').default;\nconst Dragdealer = require('./libs/dragdealer');\nexport default function Adjustment(myWorkArea){\n\tvar barElement = myWorkArea;\n\tvar settings = settings_tryon;\n\tvar _adjustmentRef = this;\n\tvar adjustmentView = null;\n\tvar sliderNames = [\"userImageScale\", \"userImageRotate\", \"spacer\"];\n\tvar sliders = [];\n\tvar isSmall=false;\n\t\n\tfunction initPlugin() {\n\t\t\tEventListener.addEventListener(\"ADJUSTMENT_STARTED\", setupLayout);\t\n\t\t\tEventListener.addEventListener(\"ALL_DONE\", destroyAdjustment);\n\t\t\tEventListener.addEventListener(\"CHECK_FOR_MOBILE\", smallScreenAdjust);\n\t\t\tEventListener.addEventListener(\"MULTI_DESTROY\", removeAdjustmnet);\n\t};\n\tfunction setupLayout(evt){\n\t\tEventListener.dispatch(\"HIDE_RESIZER\",this);\n\t\tmakeSmallerPanel();\n\t};\n\tfunction makeLargePanel(position) {\n\t\tisSmall=false;\n\t\tadjustmentView = jsDom.createNode(\"div\", {\"id\":\"tryon_adjustment\",\"class\":\"adjustment\", \"style\":\"position:relative;border:1px solid #d3d3d3; display:none;background:#fff; opacity:0.98;width:\"+settings.adjustmentPanelWidth+\"px;height:\"+settings.adjustmentPanelHeight+\"px;\"}, \"\", \"parent\", previewArea);\n\t\tvar location = position==\"right\"?1:-1;\n\t\tjsDom.css(adjustmentView, {\"display\":\"block\", \"left\":location*settings.panelwidth+\"px\", \"z-index\":\"10\"});\n\n\t\t// View Ready Now add some components //\n\t\tfor(var k=0; k<sliderNames.length; k++){\n\t\t\tvar marginTop = settings.adjustmentPanelHeight/(sliderNames.length * 2);\n\t\t\tif(k==0){\n\t\t\t\tmarginTop = ((settings.adjustmentPanelHeight/(sliderNames.length))-10);\n\t\t\t}\n\t\t\tif(sliderNames[k]==\"spacer\"){\n\t\t\t\tvar hr = jsDom.createNode(\"div\", {\"id\":sliderNames[k]}, \"\", \"parent\", adjustmentView);\n\t\t\t\tjsDom.css(hr, {\"width\":(settings.adjustmentPanelWidth-20)+\"px\",\"position\":\"relative\",\"left\":\"10px\", \"right\":\"10px\",\"marginTop\":marginTop+\"px\",\"height\":\"25px\", \"borderTop\":\"1px solid \"+settings.panelbordercolor});\n\t\t\t}else{\n\t\t\t\tvar LabelSlider = '<span style=\"margin-top:-30px;font-size:10px;font-family:Arial;color:'+settings.fontcolor+';float:left;\">'+settings[sliderNames[k]]+'</span>';\n\t\t\t\tvar slider = jsDom.createNode(\"div\", {\"id\":\"main\"+sliderNames[k]}, LabelSlider, \"parent\", adjustmentView);\n\t\t\t\tjsDom.css(slider, {\"position\":\"relative\", \"height\":\"25px\", \"marginTop\":marginTop+\"px\", \"left\":\"40px\", \"right\":\"40px\", \"width\":(settings.adjustmentPanelWidth-80)+\"px\"});\n\t\t\t\tcreateSlider(sliderNames[k], slider);\n\t\t\t\tvar dragSlider = new Dragdealer(sliderNames[k], {\n\t\t\t\t\tx:0.5,\n\t\t\t\t\tanimationCallback: function(x, y){\n\t\t\t\t\t\tif(typeof eval(this.wrapper.id === \"function\")){\n\t\t\t\t\t\t\teval(this.wrapper.id)(Math.round(x * 100));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsliders.push(dragSlider);\n\t\t\t}\n\t\t}\n\n\t};\n\tfunction smallScreenAdjust() {\n\t\tif(isSmall){\n\t\t\tvar okbtn = jsDom.nodeById(\"tryonok_button\");\n\t\t\tif(okbtn){\n\t\t\t    jsDom.css(okbtn,{\"position\":\"absolute\",\"left\":\"190px\",\"overflow\":\"visible\",\"margin-left\":\"0px\",\"z-index\":\"9999\"});\n\t\t\t}\n\t\t}\n\n\t};\n\tfunction createSlider(strId, elem) {\n\t\tvar slider = jsDom.createNode(\"div\", {\"id\":strId, \"margin-top\":\"15px\"}, \"\", \"parent\", elem);\n\t\tjsDom.css(slider, {\"position\":\"relative\", \"height\":\"1px\", \"background\":settings.panelbordercolor});\n\t\tvar thumb = jsDom.createNode(\"div\", {\"class\":\"handle\"}, \"\", \"parent\", slider);\n\t\tjsDom.css(thumb, {\"position\":\"absolute\", \"top\":\"-13px\", \"left\":\"0px\", \"cursor\":\"pointer\",\"width\":\"25px\", \"height\":\"25px\", \"background\":settings.chromeColor, \"border\":\"1px solid \"+settings.panelbordercolor, \"borderRadius\":\"25px\"});\n\t};\n\tfunction createsmallSlider(strId, elem) {\n\t\tvar slider = jsDom.createNode(\"div\", {\"id\":strId, \"margin-top\":\"15px\"}, \"\", \"parent\", elem);\n\t\tjsDom.css(slider, {\"position\":\"relative\", \"height\":\"1px\",\"width\":144+\"px\",\"top\":\"10px\",\"background\":settings.panelbordercolor});\n\t\tvar thumb = jsDom.createNode(\"div\", {\"class\":\"handle\"}, \"\", \"parent\", slider);\n\t\tjsDom.css(thumb, {\"position\":\"absolute\", \"top\":\"-13px\", \"left\":\"0px\", \"cursor\":\"pointer\",\"width\":\"25px\", \"height\":\"25px\", \"background\":settings.chromeColor, \"border\":\"1px solid \"+settings.panelbordercolor, \"borderRadius\":\"25px\"});\n\t};\n\n\tfunction makeSmallerPanel(){\n\t\tisSmall=true;\n\t\t\n\t\tvar adArea= jsDom.createNode(\"div\", {\"id\":\"smalladjust\", \"class\":\"dragdealer\",\"style\":\"overflow:hidden;\"}, \"\", \"parent\", barElement,true);\n\t\tjsDom.css(adArea, {\"width\":settings.panelwidth+\"px\",\"height\":settings.panelheight+\"px\",\"bottom\":\"0px\",\"float\":\"left\", \"background\":settings.panelcolor+\"\"});\n\t\t//var adArea=jsDom.nodeById(\"adjustArea\");\n\t\t\n\t\t\n\t\tadjustmentView = jsDom.createNode(\"div\", {\"id\":\"tryon_adjustment\", \"class\":\"handle\",\"style\":\"opacity:0.98;\"}, \"\", \"parent\", adArea);\n\t\tjsDom.css(adjustmentView, {\"display\":\"block\",\"margin-top\":\"20px\",\"width\":\"400%\",\"list-style-type\":\"none\",\"height\":\"100%\",\"margin-left\":\"10px\",\"float\":\"left\", \"z-index\":\"10\"});\n\t\tfor(var k=0; k<sliderNames.length; k++){\n\t\t\tvar marginTop = settings.adjustmentPanelHeight/(sliderNames.length * 2);\n\t\t\tif(sliderNames[k]!=\"spacer\"){\n\t\t\t\tvar LabelSlider = '<span style=\"font-size:12px;margin-top:15px;font-weight:bold;position:relative;bottom:30px;font-family:Arial;color:'+settings.fontcolor+';float:left;\">'+settings[sliderNames[k]]+'</span>';\n\t\t\t\tvar slider = jsDom.createNode(\"div\", {\"id\":\"main\"+sliderNames[k],\"class\":\"slide\"}, LabelSlider, \"parent\", adjustmentView);\n\t\t\t\tjsDom.css(slider, {\"float\":\"left\",\"position\":\"relative\",\"width\":\"25%\"});\n\t\t\t\tcreatesmallSlider(sliderNames[k], slider);\n\n\t\t\t\tvar dragSlider = new Dragdealer(sliderNames[k], {\n\t\t\t\t\tx:0.5,\n\t\t\t\t\tanimationCallback: function(x, y){\n\t\t\t\t\t\tif(typeof eval(this.wrapper.id === \"function\")){\n\t\t\t\t\t\t\teval(this.wrapper.id)(Math.round(x * 100));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tsliders.push(dragSlider);\n\t\t\t}\n\t\t}\n\t\tvar dragAdjust = new Dragdealer('smalladjust', {\n\t\t  steps: 4,\n\t\t  speed: 0.3,\n\t\t  loose: false,\n\t\t  requestAnimationFrame: false\n\t\t});\n\t};\n\n\n\tfunction userImageScale(scale){\n        scale += 50;\n\t\tEventListener.dispatch(\"SCALING\", this,scale);\n\t};\n\n\tfunction userImageRotate(scale){\n\t\tscale = (scale-50) * 3.6;\n\t\tEventListener.dispatch(\"ROTATE\", this,scale);\n\t};\n\n\tfunction frameScale(scale){\n\t\tscale += 20;\n\t\tEventListener.dispatch(\"FRAME_SCALING\", this, 3*scale);\n\t};\n\n\tfunction frameRotate(scale){\n\t\tscale = (scale-50) * 3.6;\n\t\tEventListener.dispatch(\"FRAME_ROTATE\", this,scale);\n\t};\n\n\tfunction destroyAdjustment() {\n\t\tjsDom.remove(jsDom.nodeById(\"tryon_adjustment\"));\n\t\tEventListener.dispatch(\"ADJUSTMENT_COMPLETE\", this);\n\t\tvar adpanel=jsDom.nodeById('smalladjust');\n\t\tif(adpanel){\n\t\t\tjsDom.remove(adpanel);\n\t\t}\n\t\t//Next line is only for demo//\n         EventListener.dispatch(\"APPLY_FRAME\",this,settings_tryon.currentFrame,settings_tryon.tryonActive,\"1/5\");\n\t};\n\tfunction removeAdjustmnet(){\n\t\tEventListener.removeEventListener(\"ADJUSTMENT_STARTED\", setupLayout);\n\t\tEventListener.removeEventListener(\"MULTI_DESTROY\", removeAdjustmnet);\n\t/*\tEventListener.removeEventListener(\"ALL_DONE\", destroyAdjustment);\n\t\tEventListener.removeEventListener(\"CHECK_FOR_MOBILE\", smallScreenAdjust);*/\n\t\t\n\t}\n\tfunction getoffset(el){\n\t\tvar _x = 0;\n\t    var _y = 0;\n\t    while( el && !isNaN( el.offsetLeft ) && !isNaN(el.offsetTop)) {\n\t        _x += el.offsetLeft - el.scrollLeft;\n\t        _y += el.offsetTop - el.scrollTop;\n\t        el = el.offsetParent;\n\t    }\n\t    return { \"top\":_y, \"left\":_x };\n\t};\n\t// auto initiate //\n\tinitPlugin();\n};","export default function CacheImage(){\n\tvar _cache = this;\n\tvar settings = settings_tryon;\n\tvar isBrowserStorage = window.localStorage!==undefined?true:false;\n\tvar storageName = \"TryonStore\";\n\tvar frameData = \"frameData\";\n\tvar objData = {};\n\t\n\t// Saving the image here//\n\tCacheImage.prototype.saveImage = function(imageData) {\n\t\tif(imageData.length>2){\n\t\t\t_cache.saveUserImage(imageData);\n\t\t}else{\n\t\t\t_cache.saveModelused(imageData);\n\t\t};\n\t};\n\n\tCacheImage.prototype.saveUserImage = function(imageData){\n\t\t\tobjData = {};\n\t\t\tobjData.model = \"\";\n\t\t\tobjData.image = imageData;\n\t\t\tobjData.lastused = \"image\";\n            objData.frame = \"\";\n            objData.user = \"\";\n\t\t\tsave(objData);\n\t};\n\tCacheImage.prototype.lastUsed = function(lastUsedType){\n\t\t\tobjData = {};\n\t\t\tobjData.lastUsed = lastUsedType;\n            save(objData);\n\t};\n\n\tCacheImage.prototype.saveModelused = function(modelNumber) {\n\t\tobjData = {};\n\t\tobjData.model = modelNumber;\n\t\tobjData.image = \"\";\n\t\tobjData.lastused = \"model\";\n        objData.frame = \"\";\n        objData.user = \"\";\n\t\tsave(objData);\n\t};\n\n\tCacheImage.prototype.getImage = function(callback) {\n\t\tif(!callback){\n\t\t\tthrow \"Try to retrive image without callback! not possible\";\n\t\t\treturn;\n\t\t}\n\t\tfetch(callback);\n\t};\n\n\tCacheImage.prototype.saveFrameData = function(strFrameData, strUserImageData) {\n\t\tvar objData = {};\n        objData.model = \"\";\n        objData.image = \"\";\n\t\tobjData.frame = strFrameData;\n\t\t\n\t\tobjData.user = strUserImageData;\n\t\tobjData.lastused = \"\";\n\t\tsave(objData);\n\n\t};\n\t\n\t\n\tvar fetch = function(callback){\n\t\tif(isBrowserStorage){\n\t\t\tvar objTryonData = localStorage.getItem(storageName);\n\t\t\t//if getting null then will transport null\n\t\t\tvar objData = JSON.parse(objTryonData);\n\t\t\tcallback(objData);\n\t\t}else{\n\t\t\tvar storageDevice = jsDom.nodeById(\"storagedevice\");\n            // TODO: Need to Fetch data from storage device i.e. flash cookie\n\t\t}\n\t};\n\n\tvar save = function(objTryonData){\n\t\tif(isBrowserStorage){\n\t\t\tvar tryonData = JSON.parse(localStorage.getItem(storageName));\n\t\t\t\n\t\t\tif(tryonData){\n\t\t\t\tobjTryonData.model = objTryonData.model===\"\"?tryonData.model:objTryonData.model;\n\t\t\t\tobjTryonData.image = objTryonData.image===\"\"?tryonData.image:objTryonData.image;\n\t\t\t\tobjTryonData.frame = objTryonData.frame===\"\"?tryonData.frame:objTryonData.frame;\n\t\t\t\tobjTryonData.user = objTryonData.user===\"\"?tryonData.user:objTryonData.user;\n\t\t\t\tobjTryonData.lastused = objTryonData.lastused===\"\"?tryonData.lastused:objTryonData.lastused;\n\t\t\t\n\t\t\t}\n\t\t\tlocalStorage.setItem(storageName, JSON.stringify(objTryonData));\n\t\t}\n\t};\n};","function hookEvent(element, eventName, callback){\n  if(typeof(element) == \"string\"){\n      element = document.getElementById(element);\n  }\n  if(element == null)\n  {\n      return;\n  }\n  if(element.addEventListener)\n  {\n    element.addEventListener(eventName, callback, false);\n  }\n  else if(element.attachEvent){\n      element.attachEvent(\"on\" + eventName, callback);\n  }\n}\n\nfunction unhookEvent(element, eventName, callback){\n  if(typeof(element) == \"string\"){\n      element = document.getElementById(element);\n  }\n  if(element == null){\n      return;\n  }\n  if(element.removeEventListener){\n      element.removeEventListener(eventName, callback, false);\n  }\n  else if(element.detachEvent){\n      element.detachEvent(\"on\" + eventName, callback);\n  }\n}\n\nfunction cancelEvent(e){\n  e = e ? e : window.event;\n  if(e.stopPropagation)\n    e.stopPropagation();\n  if(e.preventDefault)\n    e.preventDefault();\n  e.cancelBubble = true;\n  e.cancel = true;\n  e.returnValue = false;\n  return false;\n}\n\nfunction Position(x, y){\n  this.X = x;\n  this.Y = y;\n  \n  this.Add = function(val)\n  {\n    var newPos = new Position(this.X, this.Y);\n    if(val != null)\n    {\n      if(!isNaN(val.X))\n        newPos.X += val.X;\n      if(!isNaN(val.Y))\n        newPos.Y += val.Y\n    }\n    return newPos;\n  }\n  \n  this.Subtract = function(val)\n  {\n    var newPos = new Position(this.X, this.Y);\n    if(val != null)\n    {\n      if(!isNaN(val.X))\n        newPos.X -= val.X;\n      if(!isNaN(val.Y))\n        newPos.Y -= val.Y\n    }\n    return newPos;\n  }\n  \n  this.Min = function(val)\n  {\n    var newPos = new Position(this.X, this.Y)\n    if(val == null)\n      return newPos;\n    \n    if(!isNaN(val.X) && this.X > val.X)\n      newPos.X = val.X;\n    if(!isNaN(val.Y) && this.Y > val.Y)\n      newPos.Y = val.Y;\n    \n    return newPos;  \n  }\n  \n  this.Max = function(val)\n  {\n    var newPos = new Position(this.X, this.Y)\n    if(val == null)\n      return newPos;\n    \n    if(!isNaN(val.X) && this.X < val.X)\n      newPos.X = val.X;\n    if(!isNaN(val.Y) && this.Y < val.Y)\n      newPos.Y = val.Y;\n    \n    return newPos;  \n  }  \n  \n  this.Bound = function(lower, upper)\n  {\n    var newPos = this.Max(lower);\n    return newPos.Min(upper);\n  }\n  \n  this.Check = function()\n  {\n    var newPos = new Position(this.X, this.Y);\n    if(isNaN(newPos.X))\n      newPos.X = 0;\n    if(isNaN(newPos.Y))\n      newPos.Y = 0;\n    return newPos;\n  }\n  \n  this.Apply = function(element)\n  {\n    if(typeof(element) == \"string\")\n      element = document.getElementById(element);\n    if(element == null)\n      return;\n    if(!isNaN(this.X))\n      element.style.left = this.X + 'px';\n    if(!isNaN(this.Y))\n      element.style.top = this.Y + 'px';  \n  }\n}\n\nfunction absoluteCursorPostion(eventObj)\n{\n  eventObj = eventObj ? eventObj : window.event;\n  \n  if(isNaN(window.scrollX))\n    return new Position(eventObj.clientX + document.documentElement.scrollLeft + document.body.scrollLeft, \n      eventObj.clientY + document.documentElement.scrollTop + document.body.scrollTop);\n  else\n    return new Position(eventObj.clientX + window.scrollX, eventObj.clientY + window.scrollY);\n}\n\nfunction dragObject(element, attachElement, lowerBound, upperBound, startCallback, moveCallback, endCallback, attachLater)\n{\n  if(typeof(element) == \"string\")\n    element = document.getElementById(element);\n  if(element == null)\n      return;\n  \n  if(lowerBound != null && upperBound != null)\n  {\n    var temp = lowerBound.Min(upperBound);\n    upperBound = lowerBound.Max(upperBound);\n    lowerBound = temp;\n  }\n\n  var cursorStartPos = null;\n  var elementStartPos = null;\n  var dragging = false;\n  var listening = false;\n  var disposed = false;\n  \n  function dragStart(eventObj){\n    if(dragging || !listening || disposed) return;\n    dragging = true;\n    \n    if(startCallback != null)\n      startCallback(eventObj, element);\n    \n    cursorStartPos = absoluteCursorPostion(eventObj);\n    \n    elementStartPos = new Position(parseInt(element.style.left), parseInt(element.style.top));\n   \n    elementStartPos = elementStartPos.Check();\n    hookEvent(document, \"mousemove\", dragGo);\n    hookEvent(document, \"mouseup\", dragStopHook);\n    \n    return cancelEvent(eventObj);\n  }\n  \n  function dragGo(eventObj){\n    if(!dragging || disposed) return;\n    \n    var newPos = absoluteCursorPostion(eventObj);\n    newPos = newPos.Add(elementStartPos).Subtract(cursorStartPos);\n    newPos = newPos.Bound(lowerBound, upperBound)\n    newPos.Apply(element);\n    if(moveCallback != null)\n      moveCallback(newPos, element);\n        \n    return cancelEvent(eventObj); \n  }\n  \n  function dragStopHook(eventObj){\n    dragStop();\n    return cancelEvent(eventObj);\n  }\n  \n  function dragStop(){\n    if(!dragging || disposed) return;\n    unhookEvent(document, \"mousemove\", dragGo);\n    unhookEvent(document, \"mouseup\", dragStopHook);\n\n    cursorStartPos = null;\n    elementStartPos = null;\n    if(endCallback != null)\n      endCallback(element);\n    dragging = false;\n  }\n  \n  this.Dispose = function()\n  {\n    if(disposed) return;\n    this.StopListening(true);\n    element = null;\n    attachElement = null\n    lowerBound = null;\n    upperBound = null;\n    startCallback = null;\n    moveCallback = null\n    endCallback = null;\n    disposed = true;\n  }\n  \n  this.StartListening = function()\n  {\n    if(listening || disposed) return;\n    listening = true;\n    hookEvent(attachElement, \"mousedown\", dragStart);\n\n      attachElement.addEventListener(\"touchstart\", touchHandler, true);\n      attachElement.addEventListener(\"touchmove\", touchHandler, true);\n      attachElement.addEventListener(\"touchend\", touchHandler, true);\n      attachElement.addEventListener(\"touchcancel\", touchHandler, true);\n\n  };\n\n  this.StopListening = function(stopCurrentDragging)\n  {\n    if(!listening || disposed) return;\n    unhookEvent(attachElement, \"mousedown\", dragStart);\n    listening = false;\n    \n    if(stopCurrentDragging && dragging)\n      dragStop();\n  };\n\n  this.IsDragging = function(){ return dragging; }\n  this.IsListening = function() { return listening; }\n  this.IsDisposed = function() { return disposed; }\n  \n  if(typeof(attachElement) == \"string\")\n    attachElement = document.getElementById(attachElement);\n  if(attachElement == null)\n    attachElement = element;\n    \n  if(!attachLater){\n      this.StartListening();\n  }\n\n\n    function touchHandler(event) {\n        var touch = event.changedTouches[0];\n\n        var simulatedEvent = document.createEvent(\"MouseEvent\");\n        simulatedEvent.initMouseEvent({\n                touchstart: \"mousedown\",\n                touchmove: \"mousemove\",\n                touchend: \"mouseup\"\n            }[event.type], true, true, window, 1,\n            touch.screenX, touch.screenY,\n            touch.clientX, touch.clientY, false,\n            false, false, false, 0, null);\n\n        touch.target.dispatchEvent(simulatedEvent);\n        event.preventDefault();\n    }\n}\n\nexport default dragObject;","const EventListener = {\n\tlisteners:{},\n\taddEventListener(type, callback, scope) {\n\t\tvar args = [];\n\t\tvar numOfArgs = arguments.length;\n\t\tfor (var i = 0; i < numOfArgs; i++) {\n\t\t\targs.push(arguments[i]);\n\t\t}\n\t\targs = args.length > 3 ? args.splice(3, args.length - 1) : [];\n\t\tif (typeof this.listeners[type] != \"undefined\") {\n\t\t\tthis.listeners[type].push({ scope: scope, callback: callback, args: args });\n\t\t} else {\n\t\t\tthis.listeners[type] = [{ scope: scope, callback: callback, args: args }];\n\t\t}\n\t},\n\tdestroyEventListener() {\n\t\tthis.listeners = {};\n\t},\n\tremoveEventListener(type, callback, scope) {\n\t\tif (typeof this.listeners[type] != \"undefined\") {\n\t\t\tvar numOfCallbacks = this.listeners[type].length;\n\t\t\tvar newArray = [];\n\t\t\tfor (var i = 0; i < numOfCallbacks; i++) {\n\t\t\t\tvar listener = this.listeners[type][i];\n\t\t\t\tif (listener.scope == scope && listener.callback == callback) {\n\n\t\t\t\t} else {\n\t\t\t\t\tnewArray.push(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.listeners[type] = newArray;\n\t\t}\n\t},\n\thasEventListener(type, callback, scope) {\n\t\tif (typeof this.listeners[type] != \"undefined\") {\n\t\t\tvar numOfCallbacks = this.listeners[type].length;\n\t\t\tif (callback === undefined && scope === undefined) {\n\t\t\t\treturn numOfCallbacks > 0;\n\t\t\t}\n\t\t\tfor (var i = 0; i < numOfCallbacks; i++) {\n\t\t\t\tvar listener = this.listeners[type][i];\n\t\t\t\tif ((scope ? listener.scope == scope : true) && listener.callback == callback) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tdispatch(type, target) {\n\t\tvar numOfListeners = 0;\n\t\tvar event = {\n\t\t\ttype: type,\n\t\t\ttarget: target\n\t\t};\n\t\tvar args = [];\n\t\tvar numOfArgs = arguments.length;\n\t\tfor (var i = 0; i < numOfArgs; i++) {\n\t\t\targs.push(arguments[i]);\n\t\t};\n\t\targs = args.length > 2 ? args.splice(2, args.length - 1) : [];\n\t\targs = [event].concat(args);\n\t\tif (typeof this.listeners[type] != \"undefined\") {\n\t\t\tvar numOfCallbacks = this.listeners[type].length;\n\t\t\tfor (var i = 0; i < numOfCallbacks; i++) {\n\t\t\t\tvar listener = this.listeners[type][i];\n\t\t\t\tif (listener && listener.callback) {\n\t\t\t\t\tvar concatArgs = args.concat(listener.args);\n\t\t\t\t\tlistener.callback.apply(listener.scope, concatArgs);\n\t\t\t\t\tnumOfListeners += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetEvents() {\n\t\tvar str = \"\";\n\t\tfor (var type in this.listeners) {\n\t\t\tvar numOfCallbacks = this.listeners[type].length;\n\t\t\tfor (var i = 0; i < numOfCallbacks; i++) {\n\t\t\t\tvar listener = this.listeners[type][i];\n\t\t\t\tstr += listener.scope && listener.scope.className ? listener.scope.className : \"anonymous\";\n\t\t\t\tstr += \" listen for '\" + type + \"'\\n\";\n\t\t\t}\n\t\t}\n\t\treturn str;\n\t}\n};\n\nexport default EventListener;","const jsDom = require('./libs/jsDom').default;\nconst Dragdealer = require('./libs/dragdealer');\nexport default function ModelGallery(myWorkArea){\n\tconst previewArea = myWorkArea;\n\tconst settings = settings_tryon;\n\tconst _galleryRef = this;\n\tlet modelArea = null;\n    let leftArrow = null;\n    let rightArrow = null;\n\tlet modelsVisual = null;\n\tlet isOpened = false;\n    let isBuilded = false;\n    let panelheight = 0;\n\t/*let intID =0;\n\tlet progress =0;*/\n    let isMobile = navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);\n    let buttonsWidth = 0;\n\n\tModelGallery.prototype.initPlugin = function() {\n\t\tEventListener.addEventListener(\"AREA_CLICKED\", hideModelsIfOpen);\n\n\t};\n\tModelGallery.prototype.setupLayout = function() {\n\t\tisOpened = true;\n        if(isBuilded){\n            jsDom.css(modelArea, {\"display\":\"block\"});\n            if(!isMobile){\n            jsDom.css(leftArrow, {\"display\":\"block\"});\n            jsDom.css(rightArrow, {\"display\":\"block\"});\n        }\n           return;\n        }\n\t\tpanelheight = (parseInt(settings.panelheight)-(2*parseInt(settings.panelborder)));\n        if(!isMobile){\n            buttonsWidth = 42;\n            leftArrow= jsDom.createNode(\"div\", {\"id\":\"leftArrow\", \"style\":\"width:20px; color:#3d3d3d; height:\"+panelheight+\"px; cursor:pointer; font-size:20px; line-height:\"+panelheight+\"px; float:left;\"}, \"\", \"parent\", previewArea, true);\n            jsDom.html(leftArrow, '&#9654;');\n        }\n        modelArea = jsDom.createNode(\"div\", {\"id\":\"modelArea\", \"style\":\"overflow:hidden; float:left;\", \"class\":\"dragdealer\"}, \"\", \"parent\", previewArea, true);\n        jsDom.css(modelArea, {\"width\":(settings.panelwidth-buttonsWidth)+\"px\", \"height\":panelheight+\"px\", \"background\":settings.panelcolor+\"\"});\n        if(!isMobile){\n            rightArrow= jsDom.createNode(\"div\", {\"id\":\"rightArrow\", \"style\":\"width:20px;color:#3d3d3d; height:\"+panelheight+\"px;cursor:pointer; font-size:20px; line-height:\"+panelheight+\"px; float:left;\"}, \"\", \"parent\", previewArea, true);\n            jsDom.html(rightArrow, '&#9664;')\n        }\n\t\tdrawGallery();\n\t};\n\n\tfunction drawGallery() {\n\t\tmodelsVisual = jsDom.createNode(\"ul\", {\"id\":\"modelVisual\", \"class\":\"handle\", \"style\":\"overflow:hidden;margin:0;padding:0;list-style: none;position:relative;left:0px;height: \"+(panelheight)+\"px;\"}, \"\", \"parent\", modelArea);\n\t\tlet totalModels = settings.modelsimages.split(\",\");\n\t\tlet totalWidth = 0;\n\t\tlet imageLoaded = 0;\n\t\tfor (let i = 0; i < totalModels.length; i++) {\n\t\t\tlet modelThumburl = totalModels[i].toString().trim();\n\t\t\tlet modelThumb = jsDom.createNode(\"li\", {\"id\":\"modelThumb\"+i, \"style\":\"width:auto;height:\"+panelheight+\"px;cursor:pointer;background-size:25%; float:left;margin-right:5px\"}, \"\", \"parent\", modelsVisual);\n\t\t\tlet modelimage = jsDom.createNode(\"img\", {\"src\":modelThumburl, \"style\":\"width:auto;height:\"+(panelheight-6)+\"px;padding:2px; border:1px solid #d3d3d3;\"}, \"\", \"parent\", modelThumb);\n\t\t\tmodelimage.onload = function(){\n\t\t\t\timageLoaded++;\n                if(this.width<=50){\n                    totalWidth += this.width + 11;\n                }else{\n                    totalWidth += (42 + 11);\n                }\n\n\t\t\t\tif(imageLoaded>=totalModels.length){\n\t\t\t\t\tmakeStript(totalWidth);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n        modelsVisual.addEventListener(\"click\", modelChoosed);\n\t};\n\n\tfunction modelChoosed(evt) {\n\t\tlet nodeType = evt.target.nodeName;\n\t\tlet currentModel = evt.target || evt.srcElement;\n\t\tif(nodeType==\"IMG\"){\n\t\t\tlet modelURL =  jsDom.getProperty(currentModel, \"src\");\n\t\t\tEventListener.dispatch(\"MODEL_CHOOSEN\", this, modelURL, \"\");\n            //Next line is only for demo//\n            EventListener.dispatch(\"APPLY_FRAME\",this,settings_tryon.currentFrame,settings_tryon.tryonActive,\"1/5\");\n            hideModelsIfOpen();\n\t\t}\n\t\t\n\t};\n\t// All image loaded now making the stript//\n\tfunction makeStript(totalWidth){\n\t\tjsDom.css(modelsVisual, {\"width\":totalWidth+\"px\"});\n        isBuilded = true;\n        let step =1;\n\t    let totalModels = settings.modelsimages.split(\",\");\n        let galDrag = new Dragdealer('modelArea', {\n                steps: totalModels.length,\n                speed: 0.3,\n                loose: true,\n                requestAnimationFrame: true\n        });\n        if(!isMobile){\n        leftArrow.addEventListener(\"click\", function(){\n            if(step>totalModels.length){\n                step = totalModels.length;\n                return;\n            }else{\n                step++;\n            }\n            galDrag.setStep(step);\n        });\n        rightArrow.addEventListener(\"click\", function(){\n            if(step<=1){\n                step = 0;\n                return;\n            }else{\n                step--;\n            }\n            galDrag.setStep(step);\n        });\n}\n\t};\n\n\tfunction hideModelsIfOpen(evt) {\n\t\tif(isOpened){\n\t\t\tjsDom.css(modelArea, {\"display\":\"none\"});\n            if(!isMobile)\n            {\n            jsDom.css(leftArrow, {\"display\":\"none\"});\n            jsDom.css(rightArrow, {\"display\":\"none\"});\n           }\n            EventListener.dispatch(\"GALLERY_CLOSED\", this);\n            isOpened = false;\n\t\t}\n\t};\n\n\t// auto intiate //\n\tthis.initPlugin();\n};","const ShareView = require('./ShareView').default;\nconst jsDom = require('./libs/jsDom').default;\n\nexport default function Resizer(myWorkArea){\n    var previewArea = myWorkArea;\n    var settings = settings_tryon;\n    var _resizerRef = this;\n    var resizerView = null;\n    var fScale=100;\n    var fRotation=0;\n    var frameimg='';\n    var mirrorMode=0;\n    var resizerBtn=[\"FrameReset\",\"FrameRotateLeft\",\"FrameRotateRight\",\"FrameScaleUp\",\"FrameScaleDown\",\"space\",\"SaveImage\"];\n    var shareObj=new ShareView();\n    var frameLeft=0;\n    var frameTop=0;\n Resizer.prototype.initPlugin = function() {\n        setupLayout();\n        EventListener.addEventListener(\"ALL_DONE\", showResizer);\n        EventListener.addEventListener(\"INIT_RESIZER\", initResizer);\n        EventListener.addEventListener(\"HIDE_RESIZER\", hideResizer);\n        EventListener.addEventListener(\"OLD_RESIZER\", showWithOld);\n        EventListener.addEventListener(\"INIT_RESIZER_VAR\", initResizerVar);\n\n\n    };\n    function setupLayout(){\n        resizerView = jsDom.createNode(\"div\", {\"id\":\"frame_live_resizer\", \"style\":\"position:relative; display:none;width:\"+settings.resizerPanelWidth+\"px;height:\"+settings.resizerPanelHeight+\"px;\"}, \"\", \"parent\", previewArea);\n        jsDom.css(resizerView, {\"display\":\"block\", \"top\":\"5px\",\"left\":settings.width+\"px\" ,\"z-index\":\"11\", \"textAlign\":\"center\"});\n        for (var i = 0; i < resizerBtn.length; i++) {\n          if(resizerBtn[i]==\"space\"){\n                jsDom.createNode(\"hr\", {\"width\":\"60%\", \"style\":\"border:0;height:1px;margin:5px 8px 15px;background-color:\"+settings.bordercolor+\";\"},\"\", \"parent\", resizerView);\n\n                continue;\n          }\n          makeBtn(resizerBtn[i]);\n        }\n      };\n    function makeBtn(id){\n      var title=id+\"Title\";\n      var tool=jsDom.createNode(\"span\", {\"class\":\"hint--right hint--rounded\",\"data-hint\":settings[title]},\"\", \"parent\", resizerView); \n      var Btn=jsDom.createNode(\"img\", {\"src\":\"\"+settings[id]+\"\",\"id\":id,\"class\":\"resizerpanel\"},\"\", \"parent\", tool); \n      jsDom.css(Btn, {\"display\":\"block\",\"margin-bottom\":\"2px\" ,\"cursor\":\"pointer\"});\n      Btn.addEventListener(\"click\",resizerAction);\n      Btn.addEventListener(\"touchstart\",resizerAction);\n    }\n    function initResizer(evt,frame,left,top){\n      fScale=100;\n      fRotation=0;\n      frameLeft=left;\n      frameTop=top;\n      var st = window.getComputedStyle(frame, null);\n      var tr = st.getPropertyValue(\"-webkit-transform\") ||\n         st.getPropertyValue(\"-moz-transform\") ||\n         st.getPropertyValue(\"-ms-transform\") ||\n         st.getPropertyValue(\"-o-transform\") ||\n         st.getPropertyValue(\"transform\") ||\n         \"none\";\n         if(tr!='none'){\n          var values = tr.split('(')[1].split(')')[0].split(',');\n          var a = values[0];\n          var b = values[1];\n          var c = values[2];\n          var d = values[3];\n          var scale = Math.sqrt(a*a + b*b);\n          fScale=scale*100;\n          var sin = b/scale;\n          fRotation=Math.round(Math.atan2(b, a) * (180/Math.PI));\n        }\n\n    };\n   function initResizerVar(){\n     fScale=100;\n     fRotation=0;\n  };\n  function showWithOld(evt,frameLeft,frameTop){\n     frameLeft=frameLeft;\n     frameTop=frameTop;\n     EventListener.dispatch(\"FRAME_WITH_RESIZER\",this,fScale,fRotation,frameLeft,frameTop);\n  };\n   function resizerAction(){\n\n    var action=this.id;\n    switch(action){\n      case 'FrameReset':\n      EventListener.dispatch(\"FRAME_RESET\",this);\n      break;\n      case 'FrameRotateLeft':\n      fRotation-=5;\n      EventListener.dispatch(\"FRAME_ROTATE_LEFT\",this,fScale,fRotation,frameLeft,frameTop);\n      break;\n      case 'FrameRotateRight':\n      fRotation+=5;\n      EventListener.dispatch(\"FRAME_ROTATE_RIGHT\",this,fScale,fRotation,frameLeft,frameTop);\n      break;\n      case 'FrameScaleUp':\n      fScale += 10;\n      EventListener.dispatch(\"SCALE_UP\",this,fScale,fRotation,frameLeft,frameTop);\n      break;\n      case 'FrameScaleDown':\n      fScale -= 10;\n      EventListener.dispatch(\"SCALE_DOWN\",this,fScale,fRotation,frameLeft,frameTop);\n      break;\n      case 'SaveImage':\n      shareObj.savetheImage(\"saveonly\");\n      break;\n\n    }\n    };\n  function showResizer(){\n       jsDom.css(resizerView,{'display':'block'});\n       var frame=jsDom.nodeById(\"frames\");\n       var userthumb=jsDom.nodeById(\"userThumb\");\n       if(userthumb){\n            jsDom.css(userthumb,{'display':'block'});\n       }\n       if(frame){\n       jsDom.css(frame,{'display':'block'});\n     }\n  };\n  function hideResizer(){\n       jsDom.css(resizerView,{'display':'none'});\n      var frame=jsDom.nodeById(\"frames\");\n       var userthumb=jsDom.nodeById(\"userThumb\");\n       if(userthumb){\n        jsDom.css(userthumb,{'display':'none'});\n       }\n       if(frame){\n       jsDom.css(frame,{'display':'none'});\n       }\n  };\n\n   function getoffset(el){\n        var _x = 0;\n        var _y = 0;\n        while( el && !isNaN( el.offsetLeft ) && !isNaN(el.offsetTop)) {\n            _x += el.offsetLeft - el.scrollLeft;\n            _y += el.offsetTop - el.scrollTop;\n            el = el.offsetParent;\n        }\n        return { \"top\":_y, \"left\":_x };\n    };\n  \n    // auto initiate //\n    this.initPlugin();\n};","export default function ShareView() {\n\tvar settings = settings_tryon;\n\tvar loadimg = '';\n\tvar mainArea = '';\n\tShareView.prototype.initPlugin = function () {\n\t\tEventListener.addEventListener(\"SHARE_PREVIEW_SCREEN\", setupLayout);\n\t};\n\n\tfunction setupLayout(evt) {\n\t\t// body...\n\t\t//this will open a transparent black panel in which we will have sharing icons//\n\t};\n\tShareView.prototype.savetheImage = function (option) {\n\t\tvar previewArea = jsDom.nodeById(settings_tryon.activeTryon);\n\t\tmainArea = jsDom.nodeById(\"mainArea\");\n\t\tloadimg = jsDom.createNode(\"img\", { \"src\": \"assets/vtoplus/assets/images/loader.gif\" }, \"\", \"parent\", previewArea, true);\n\t\tjsDom.css(loadimg, { \"position\": \"absolute\", \"display\": \"block\", \"opacity\": \"1\", \"left\": \"45%\", \"top\": \"45%\" });\n\t\tjsDom.css(mainArea, { \"opacity\": \"0.5\" });\n\t\tvar data = '';\n\t\tvar areatoshare = jsDom.nodeById(\"mainArea\");\n\t\tvar mainimage = jsDom.nodeById(\"previewImage\");\n\t\tvar canvaswidth = mainimage.width;\n\t\tvar canvasheight = mainimage.height;\n\t\tvar canvas = document.createElement('canvas');\n\t\tcanvas.width = canvaswidth;\n\t\tcanvas.height = canvasheight;\n\n\t\tvar scalefactor = mainimage.naturalHeight / mainimage.height;\n\t\tvar ctx = canvas.getContext(\"2d\");\n\t\tTools.getTransformData(mainimage, function (scale, fRotation) {\n\t\t\tctx.save();\n\t\t\tctx.translate(mainimage.width / 2, mainimage.height / 2);\n\t\t\tctx.rotate(fRotation * Math.PI / 180);\n\t\t\tctx.scale(scale, scale);\n\t\t\tctx.drawImage(mainimage, -mainimage.width / 2, -mainimage.height / 2, mainimage.width, mainimage.height);\n\t\t\tgetFilterData(mainimage, ctx, canvas);\n\t\t\tdata = canvas.toDataURL('image/png');\n\t\t})\n\t\tframe = jsDom.nodeById(\"frame\");\n\t\tif (frame) {\n\t\t\tTools.getTransformData(frame, function (scale, fRotation) {\n\n\t\t\t\tvar x = parseFloat(frame.style.left) + frame.width / 2 - parseFloat(mainimage.style.left);\n\t\t\t\tvar y = parseFloat(frame.style.top) + frame.height / 2 - parseFloat(mainimage.style.top);\n\t\t\t\tctx.restore();\n\t\t\t\tctx.translate(x, y);\n\t\t\t\tctx.rotate(fRotation * Math.PI / 180);\n\t\t\t\tctx.scale(scale, scale);\n\t\t\t\tctx.globalAlpha = 0.85;\n\t\t\t\tctx.drawImage(frame, -1 * frame.width / 2, -1 * frame.height / 2, frame.width, frame.height);\n\t\t\t\tdata = canvas.toDataURL('image/png');\n\t\t\t\tsendRequest(option, data);\n\t\t\t});\n\n\t\t}\n\t\telse {\n\t\t\tsendRequest(option, data);\n\t\t}\n\n\t};\n\tfunction sendRequest(option, data) {\n\t\ttry {\n\t\t\tvar xmlhttp;\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\t} else {\n\t\t\t\txmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t\t}\n\t\t\txmlhttp.onreadystatechange = function () {\n\t\t\t\tif (xmlhttp.readyState == 4) {\n\t\t\t\t\tif (xmlhttp.status == 200) {\n\t\t\t\t\t\tjsDom.remove(loadimg);\n\t\t\t\t\t\tjsDom.css(mainArea, { \"opacity\": \"1\" });\n\t\t\t\t\t\tswitch (option) {\n\t\t\t\t\t\t\tcase 'saveonly':\n\t\t\t\t\t\t\t\tvar a = document.createElement('a');\n\t\t\t\t\t\t\t\ta.setAttribute('download', settings.saveImageTitle);\n\t\t\t\t\t\t\t\ta.href = xmlhttp.responseText;\n\t\t\t\t\t\t\t\ta.setAttribute('target', '_blank');\n\t\t\t\t\t\t\t\ta.innerHTML = 'testing';\n\t\t\t\t\t\t\t\ta.style.display = 'none';\n\t\t\t\t\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\t\t\t\t\ta.click();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\telse if (xmlhttp.status == 400) {\n\t\t\t\t\t\tconsole.log('There was an error 400')\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.log('something else other than 200 was returned')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\txmlhttp.open(\"POST\", settings.saveFileUrl, true);\n\t\t\txmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n\t\t\txmlhttp.send('img=' + data);\n\t\t} catch (e) { console.log(e); }\n\n\t};\n\n\tfunction getFilterData(container, context, canvas) {\n\t\tvar st = window.getComputedStyle(container, null);\n\t\tvar tr = st.getPropertyValue(\"-webkit-filter\") ||\n\t\t\tst.getPropertyValue(\"filter\");\n\t\tif (tr != 'none') {\n\t\t\tvar imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n\t\t\tvar pixels = imageData.data, delta = 50;\n\t\t\tfor (var i = 0, il = pixels.length; i < il; i += 4) {\n\t\t\t\tpixels[i] += delta;\n\t\t\t\tpixels[i + 1] += delta;\n\t\t\t\tpixels[i + 2] += delta;\n\t\t\t}\n\t\t\tvar contrast = 65;\n\t\t\tvar factor = (259 * (contrast + 255)) / (255 * (259 - contrast));\n\t\t\tfor (var i = 0; i < pixels.length; i += 4) {\n\t\t\t\tpixels[i] = factor * (pixels[i] - 128) + 128;\n\t\t\t\tpixels[i + 1] = factor * (pixels[i + 1] - 128) + 128;\n\t\t\t\tpixels[i + 2] = factor * (pixels[i + 2] - 128) + 128;\n\t\t\t}\n\t\t\tcontext.putImageData(imageData, 0, 0);\n\t\t}\n\t};\n\tthis.initPlugin();\n};","const jsDom = require('./libs/jsDom').default;\nconst TryonPreview = require(\"./TryonPreview\").default;\nconst Adjustment = require(\"./Adjustment\").default;\nconst Resizer = require(\"./Resizer\").default;\nconst TryonBar = require(\"./TryonBar\").default;\n\nconst Tryon = {\n\tsettings:null,\n\ttryonpreview:null,\n\tadj:null,\n\tresizer:null,\n\ttryonbar:null,\n\tactiveElem:null,\n\n\tinitApp:function (elem, bar) {\n\t\tthis.settings = window.settings_tryon;\n\t\tthis.setupLayout(elem, bar);\n\t},\n\tsetupLayout:function(elem, bar) {\n\t\tthis.activeElem = elem;\n\t\tvar elements = jsDom.nodeById(elem);\n\t\tvar key = 0;\n\t\tvar elem = elements;\n\t\tjsDom.css(elem, { \"position\": \"relative\" });\n\t\tif (this.settings.debug == \"true\") {\n\t\t\tjsDom.css(elem, { \"border\": \"1px dashed #f00\" });\n\t\t}\n\t\tthis.tryonpreview = new TryonPreview(elem, key);\n\t\t// init plugin with main view.\n\t\tthis.adj = new Adjustment(bar, key);\n\t\tif (this.settings.isPanel === true) {\n\t\t\tthis.resizer = new Resizer(elem, key);\n\t\t}\n\t\t//making all instance of tryon-bars as per our css props//\n\t\tconst barElement = jsDom.nodeById(bar);\n\t\tconst bars = barElement;\n\t\tthis.tryonbar = new TryonBar(bars);\n\t\t// Adding filters for using in mozilla //\n\t\tvar strSVG = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><defs><filter id=\"contrast\"><feGaussianBlur stdDeviation=\"1.5\"/><feComponentTransfer><feFuncR type=\"discrete\" tableValues=\"0 .5 1 1\"/><feFuncG type=\"discrete\" tableValues=\"0 .5 1\"/><feFuncB type=\"discrete\" tableValues=\"0\"/></feComponentTransfer></filter><filter id=\"brightness\"><feComponentTransfer><feFuncR type=\"linear\" slope=\"4\"/><feFuncG type=\"linear\" slope=\"4\"/><feFuncB type=\"linear\" slope=\"4\"/></feComponentTransfer></filter></defs> </svg>';\n\t\tvar tryonFilters = jsDom.createNode(\"div\", { \"id\": \"tryon_filters\" }, strSVG, \"parent\", document.body);\n\n\t},\n\n\t/**\n\t*\tDestroy a particular Tryon..\n\t**/\n\tdestroyByID:function (elemID) {\n\t\tvar elem = document.getElementById(elemID);\n\t\telem.innerHTML = \"\";\n\t},\n\n\t/**\n\t*\tDestroy a All Tryon..\n\t**/\n\tdestroyAll:function () {\n\t\tvar elements = jsDom.nodeByClass(\"softsol-tryon\");\n\t\tfor (var i = elements.length - 1; i >= 0; i--) {\n\t\t\telements[i].innerHTML = \"\";\n\t\t}\n\t\tconst barElement = jsDom.nodeByClass(\"softsol-tryon-bar\");\n\t\tfor (var i = barElement.length - 1; i >= 0; i--) {\n\t\t\tbarElement[i].innerHTML = \"\";\n\t\t}\n\t\tvar adjust = jsDom.nodeByClass('adjustment');\n\t\tif (adjust) {\n\t\t\tfor (var i = adjust.length - 1; i >= 0; i--) {\n\t\t\t\tjsDom.remove(adjust[i]);\n\t\t\t};\n\t\t\tthis.tryonpreview = null;\n\t\t\tthis.adj = null;\n\t\t\tthis.resizer = null;\n\t\t\tthis.tryonbar = null;\n\t\t\tthis.activeElem = null;\n\t\t\tEventListener.destroyEventListener();\n\t\t}\n\t\tvar filters = jsDom.nodeById(\"tryon_filters\");\n\t\tjsDom.remove(filters);\n\t},\n};\n/*\nfunction getBitmap(data_uri, ext) {\n\tEventListener.dispatch(\"FILE_LOAD_COMPLETE\", this, data_uri, ext);\n\tEventListener.dispatch(\"ADJUSTMENT_STARTED\", this);\n}\n\nfunction LoadingStart() {\n\tEventListener.dispatch(\"FILE_LOADING_INIT\", this);\n}\nfunction IOError() {\n\talert(\"error in loading\");\n}\n*/\nString.prototype.toDOM = function () {\n\tvar d = document\n\t\t, i\n\t\t, a = d.createElement(\"div\")\n\t\t, b = d.createDocumentFragment();\n\ta.innerHTML = this;\n\twhile (i = a.firstChild) { b.appendChild(i) };\n\treturn b;\n};\nexport default Tryon;","const jsDom = require('./libs/jsDom').default;\nconst ModelGallery = require('./ModelGallery').default;\n\nexport default function TryonBar(myBarArea){\n\tvar barArea = myBarArea;\n\tvar settings = settings_tryon;\n\tvar totalButtons = 0;\n\tvar arrButtonSerial=[];\n\tvar arrButtons = [];\n\tvar _barObject = this;\n     // Used to make model gallery panel\n\tvar modelGal = null;\n    // Used to make webcam panel\n\tvar webcamArea= null;\n    // uSed to make the adjustment done bar//\n\tvar adjustArea =null;\n    // Used tp make confirmation bar, do you need to use the same picture which we shoot now or need to retake\n\tvar confirmationArea = null;\n    // Used for the main buttons//\n    var mainPanelArea = null;\n    // cam will be ready by getting event //\n    var isCamReady = false;\n    var hasFlash='';\n    var isMobile = navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);\n\tTryonBar.prototype.setupLayout = function(){\n\t\tarrButtonSerial=[];\n        if(settings.isPanel===true)\n\t\t{\n\t\t\t\n        jsDom.css(barArea, {\"-webkit-touch-callout\": \"none\", \"-webkit-user-select\":\"none\", \"-khtml-user-select\":\"none\",\"-moz-user-select\":\"none\",\"-ms-user-select\":\"none\",\"user-select\":\"none\"})\n\t\tjsDom.css(barArea, {\"width\":(parseInt(settings.panelwidth)-(2*parseInt(settings.panelborder)))+\"px\", \"height\":(parseInt(settings.panelheight)-(2*parseInt(settings.panelborder)))+\"px\", \"background\":settings.panelcolor+\"\"});\n\t\t//jsDom.setBGOpacity(barArea, parseInt(settings.panelalpha));\n\t\t//hasFlash = (typeof navigator.plugins == \"undefined\" || navigator.plugins.length == 0) ? !!(new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\")) : navigator.plugins[\"Shockwave Flash\"];\n\t\t\n\t\t}\n\t\telse{\n\t\t\tsettings.panelwidth=settings.width;\n\t\t\tjsDom.css(barArea, {\"-webkit-touch-callout\": \"none\", \"-webkit-user-select\":\"none\", \"-khtml-user-select\":\"none\",\"-moz-user-select\":\"none\",\"-ms-user-select\":\"none\",\"user-select\":\"none\"})\n\t\tjsDom.css(barArea, {\"width\":(parseInt(settings.panelwidth)-(2*parseInt(settings.panelborder)))+\"px\", \"height\":(parseInt(settings.panelheight)-(2*parseInt(settings.panelborder)))+\"px\", \"background\":settings.panelcolor+\"\"});\n\t\t\n\t\t}\n\t\tjsDom.css(barArea,{\"position\":\"relative\"});\n       jsDom.setBGOpacity(barArea, parseInt(settings.panelalpha));\n\t\tif(settings.panellocation==\"inside\"){\n\t\t\tjsDom.css(barArea, {\"bottom\":settings.panelheight+\"px\"});\n\t\t}\n\t\t/*jsDom.css(barArea, {\"border\":\"solid \"+settings.panelbordercolor+\" \"+settings.panelborder+\"px\"});*/\n\t\t// setting up the model gallery thing, must be activated on tryon start//\n\t\tmodelGal = new ModelGallery(barArea);\n\t\t//Base ready, now time to add buttons//\n\t\t\n\t\taddButtons(isMobile);\n\t\tEventListener.addEventListener(\"RESET_VIEW_DEFAULT\", resetViewtoDefault);\n        EventListener.addEventListener(\"WEBCAM_READY\", camReady);\n        EventListener.addEventListener(\"ADJUSTMENT_STARTED\", SwapToAdjustBar);\n        EventListener.addEventListener(\"WEBCAM_CLOSED\", camClosed);\n        EventListener.addEventListener(\"GALLERY_CLOSED\", galleryClosed);\n      };\n\n    function camReady(){\n        isCamReady = true;\n    };\n\n    function camClosed(){\n        isCamReady = false;\n    };\n\tfunction addButtons(isMobile) {\n        mainPanelArea = jsDom.createNode(\"div\", {\"id\":\"mainPanelArea\"}, \"\", \"parent\", barArea, true);\n                        jsDom.css(mainPanelArea,{\"position\":\"absolute\",\"left\":\"-9px\"});\n\t\tvar buttons = settings.buttons.split(\",\");\n\t\tvar btntooltip=settings.buttonstooltip.split(\",\");\n\t\tbuttons.reverse();\n\t\tbtntooltip.reverse();\n\t\tif(isMobile){\n\t\t\tbuttons.splice(1,1);\n\n\t\t}\n\t\ttotalButtons = buttons.length;\n\t\tfor (var i = buttons.length - 1; i >= 0; i--) {\n\t\t\tvar nameValueButton = buttons[i].split(\"*\");\n\t\t\tvar btn=btntooltip[i].split(\"*\");\n\t\t\tarrButtonSerial.push(nameValueButton[0]);\n\t\t\tif(nameValueButton[0]==\"browse\"){\n\n\t\t\t\tmakeBrowseButton(nameValueButton[1], btn[1], addToBar);\n\t\t\t}else{\n\t\t\t\tif(settings.isShowTitleWithIcon){\n\t\t\t\t\tmakeImgBtnTooltip(nameValueButton[0],nameValueButton[1],btn[1],addToBar,true);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tmakeImageButton(nameValueButton[0], nameValueButton[1],i,addToBar);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t};\n\t};\n\tfunction makeImgBtnTooltip(name, imageSrc, text, callback){\n\t\n\t\tvar strButton = '';\n\t\tvar img = new Image();\n\t\timg.onload = function(){\n\t\t\tconst labelHeight = parseInt(settings.fontSize);\n                this.width  += labelHeight;\n                this.height  += labelHeight;\n\t\t\tvar leftMargin = ((parseInt(settings.panelwidth)+(parseInt(settings.panelborder)*2)) / totalButtons)/2;// - (this.width)/2;\n\t\t\tvar topMargin = (parseInt(settings.panelheight) - this.height)/2;\n\t\t\t/*strButton='<label for=\"tryon'+name+'\" class=\"tool\">'+text+'</label>';*/\n\n\t\t\tstrButton ='<label id=\"tryon'+name+'\" style=\"display:block;line-height:1;font-size:'+settings.fontSize+'px; float:left; margin-top:'+topMargin+'px; margin-left:'+leftMargin+'px; overflow:hidden; cursor:pointer; width:'+this.width+'px;height:'+this.height+'px;background-image:url('+imageSrc+');background-position:center top;z-index:9999;background-repeat:no-repeat;\"><span class=\"tool\">'+text+'</span></label>'\n\t\t\t\n\t\t\tif(callback){callback(strButton, name)};\n\t\t};\n\t\timg.src = imageSrc;\n\t};\n\tfunction addToBar(strButton, buttonName) {\n\t\tvar btnElem= strButton.toDOM();\n\t\tarrButtons[buttonName]= btnElem;\n\t\tvar button = Object.keys(arrButtons).length;\n\t\tif(button>=totalButtons){\n\t\t\tfor(var k=0;k< arrButtonSerial.length; k++){\n\t\t\t\tjsDom.append(mainPanelArea, arrButtons[arrButtonSerial[k]]);\n\t\t\t\t// Lost this here, this is refering to window now//\n\t\t\t\taddClickAction(arrButtonSerial[k], _barObject);\n\t\t\t};\n\t\t}\n\t};\n\n\tfunction makeBrowseButton(imageSrc, text,callback){\n\t\t\n\t\t\n\t\tvar strButton = '';\n\t\tvar img = new Image();\n\t\timg.onload = function(){\n\t\t\tvar leftMargin = ((parseInt(settings.panelwidth)+(parseInt(settings.panelborder)*2)) / totalButtons)/2;\n            var labelHeight = 0;\n            if(settings.isShowTitleWithIcon){\n                labelHeight = parseInt(settings.fontSize);\n                this.width  += labelHeight;\n                this.height  += labelHeight;\n            }\n            var topMargin = (parseInt(settings.panelheight) - this.height)/2;\n\n\t\t\tif (window.File && window.FileReader && window.FileList && window.Blob) {\n\t\t\t\tstrButton ='<label style=\"display:block; float:left;line-height:1; font-size:'+settings.fontSize+'px; margin-top:'+topMargin+'px; margin-left:'+leftMargin+'px; overflow:hidden; cursor:pointer; width:'+this.width+'px;height:'+this.height+'px;background-image:url('+imageSrc+');background-position:center top; background-repeat:no-repeat;\"><input type=\"file\" id=\"tryonbrowse'+'\" size=\"2\" style=\"position:relative;margin:0; cursor:pointer; height:'+(this.height-labelHeight)+'px;width: '+this.width+'px;opacity: 0;-moz-opacity: 0;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);\" accept=\"image/*\" /><span class=\"tool\"style=\"top:0px\">'+text+'</span></label>'\n\t\t\t}else{\n\t\t\t\tstrButton ='<label style=\"display:block; float:left;line-height:1; margin-top:'+topMargin+'px; margin-left:'+leftMargin+'px; overflow:hidden; cursor:pointer; width:'+this.width+'px;height:'+this.height+'px;background-image:url('+imageSrc+');background-position:center top; background-repeat:no-repeat;\"><object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"'+this.width+'\" height=\"'+this.height+'\" id=\"browsebtn\"><param name=\"loop\" value=\"false\"/><param name=\"movie\" value=\"'+settings.swfpath+'\" /><param name=\"wmode\" value=\"transparent\" /><param name=\"loop\" value=\"false\"/><!--[if !IE]>--><object type=\"application/x-shockwave-flash\" data=\"'+settings.swfpath+'\" width=\"'+this.width+'\" height=\"'+this.height+'\" class=\"\" align=\"\"><param name=\"wmode\" value=\"transparent\" /><param name=\"loop\" value=\"false\"/><param name=\"flashvars\" value=\"\" /><!--<![endif]--><!--[if !IE]>--></object><!--<![endif]-->'+text+'</label>'\n\t\t\t}\n\t\t\tif(callback){callback(strButton, \"browse\")};\n\t\t};\n\t\timg.src = imageSrc;\n\t};\n\n\tfunction makeImageButton(name, imageSrc, position, callback,tooltip){\n\t\tvar strButton = '';\n\t\tvar img = new Image();\n\t\timg.onload = function(){\n\t\t\tif(name=='ok_button'){\n\t\t\t\tvar leftMargin = ((parseInt(settings.panelwidth)+(parseInt(settings.panelborder)*2)) / totalButtons)/2- (this.width)/2;// - (this.width)/2;\n\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\tvar leftMargin = ((parseInt(settings.panelwidth)+(parseInt(settings.panelborder)*2)) / totalButtons)/2 - (this.width)/2;\n\t\t\t\n\t\t\t}\n\t\t\tvar topMargin = (parseInt(settings.panelheight) - this.height)/2;\n\t\t\tif(tooltip){\n\t\t\t\t\n\t\t\t    strButton ='<label id=\"tryon'+name+'\" style=\"display:block;line-height:1; float:left; margin-top:'+topMargin+'px; margin-left:'+leftMargin+'px; overflow:hidden; cursor:pointer; width:'+this.width+'px;height:'+this.height+'px;background-image:url('+imageSrc+');\"></label>';\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t    strButton ='<label id=\"tryon'+name+'\" style=\"display:block;line-height:1; float:left; margin-top:'+topMargin+'px; margin-left:'+leftMargin+'px; overflow:hidden; cursor:pointer; width:'+this.width+'px;height:'+this.height+'px;background-image:url('+imageSrc+');\"></label>';\n\t\t\t\n\t\t\t}\n\n\t\t\tif(callback){callback(strButton, name)};\n\t\t};\n\t\timg.src = imageSrc;\n\t};\n\tfunction addClickAction(btnName) {\n        var elem = jsDom.nodeById(\"tryon\"+btnName);\n        // Need to leave the _barReferace here as that change the referance\n\t\tif(btnName==\"browse\"){\n\t\t\tif(window.FileReader && window.FileList && window.Blob){\n\t\t\t\telem.addEventListener(\"change\", function(evt){\n                    dispatchButtonEvent(evt);\n                });\n\t\t\t}\n\t\t}else{\n                \n\t\t\telem.addEventListener(\"click\", function(evt){\n                dispatchButtonEvent(evt);\n            });\n                if(!isMobile){\n                \t\n            \telem.addEventListener(\"touchstart\", function(evt){\n                dispatchButtonEvent(evt);\n            });\n            }\n\t\t}\n\t};\n\n\tfunction dispatchButtonEvent(evt){\n        // rebuilding the refrace//\n\t\tvar btnId = evt.target.id.split(\"tryon\").join(\"\");\n\n\t\tswitch(btnId){\n\t\t\tcase \"browse\":\n\t\t\t\tEventListener.dispatch(\"FILE_LOAD_COMPLETE\", this, evt.target.files, \"\");\n\t\t\tbreak;\n\t\t\tcase \"modelgallery\":\n                jsDom.css(mainPanelArea, {\"display\":\"none\"});\n\t\t\t\tmodelGal.setupLayout();\n\t\t\tbreak;\n\t\t\tcase \"webcam\":\n\t\t\t\tEventListener.dispatch(\"WEBCAM_OPEN\", this);\n\t\t\t\tSwapToCamBar();\n\t\t\tbreak;\n\t\t\tcase \"take_pic\":\n                if(isCamReady){\n                    EventListener.dispatch(\"WEBCAM_TAKE_PICTURE\", this);\n                    SwapToRetakeBar();\n                }else{\n                    EventListener.dispatch(\"requestAllowCamera\", this);\n                }\n\t\t\tbreak;\n\t\t\tcase \"close_cam\":\n                if(isCamReady){\n                    EventListener.dispatch(\"WEBCAM_CLOSE\", this);\n                    SwapToBar();\n                }else{\n                    EventListener.dispatch(\"requestAllowCamera\", this);\n                }\n\t\t\tbreak;\n\t\t\tcase \"use_pic\":\n\t\t\t\tEventListener.dispatch(\"ADJUSTMENT_STARTED\", this);\n                 \n\t\t\tbreak;\n\t\t\tcase \"retake\":\n\t\t\t\tEventListener.dispatch(\"WEBCAM_RETAKE\", this);\n\t\t\t\tSwapToCamBar();\n\t\t\tbreak;\n\t\t\tcase \"ok_button\":\n\n\t\t\t\tEventListener.dispatch(\"ALL_DONE\", this);\n\t\t\t\tSwapToBar();\n\t\t\tbreak;\n\t\t};\n\t};\n\n    function getBarID(){\n        return this.id;\n    }\n\tfunction SwapToCamBar() {\n        jsDom.css(mainPanelArea, {\"display\":\"none\"});\n\t\t// Styling Done - Now add some action//\n\t\tvar panelheight = (parseInt(settings.panelheight)-(2*parseInt(settings.panelborder)));\n\t\twebcamArea = jsDom.createNode(\"div\", {\"id\":\"webcambarArea\", \"style\":\"overflow:hidden;\"}, \"\", \"parent\", barArea, true);\n\t\tjsDom.css(webcamArea, {\"width\":settings.panelwidth+\"px\", \"height\":panelheight+\"px\", \"background\":settings.panelcolor+\"\"});\n\t\t// Styling done //\n\t\taddWebcamButtons();\n\t};\n\n\tfunction SwapToAdjustBar() {\n\t\t\n        jsDom.css(mainPanelArea, {\"display\":\"none\"});\n       \n\t\t// Styling Done - Now add some action//\n\t\tvar panelheight = (parseInt(settings.panelheight)-(2*parseInt(settings.panelborder)));\n\t\tadjustArea = jsDom.createNode(\"div\", {\"id\":\"adjustArea\", \"style\":\"overflow:hidden;\"}, \"\", \"parent\", barArea, true);\n\t\tjsDom.css(adjustArea, {\"width\":settings.panelwidth+\"px\", /*\"height\":panelheight+\"px\",*/ \"background\":settings.panelcolor+\"\"});\n\t\t// Styling done //\n\t\ttotalButtons = 1;\n\n\t\tmakeImageButton(\"ok_button\", settings.okbutton, \"\", addToDoneBar);\n\t};\n\tfunction SwapToBar() {\n        jsDom.css(mainPanelArea, {\"display\":\"block\"});\n   \n       \n        webcamArea = jsDom.nodeById(\"webcambarArea\");\n\t\tif(webcamArea!==null){\n\t\t\tjsDom.remove(webcamArea);\n            webcamArea = null;\n\t\t}\n        if(adjustArea!==null){\n            jsDom.remove(adjustArea);\n            adjustArea = null;\n        }\n\t\tif(confirmationArea!==null){\n\t\t\tjsDom.remove(confirmationArea);\n            confirmationArea = null;\n\t\t}\n\t};\n\tfunction SwapToRetakeBar() {\n\t\tjsDom.remove(webcamArea);\n\t\tvar panelheight = (parseInt(settings.panelheight)-(2*parseInt(settings.panelborder)));\n\t\tconfirmationArea = jsDom.createNode(\"div\", {\"id\":\"confirmationArea\", \"style\":\"overflow:hidden;\"}, \"\", \"parent\", barArea, true);\n\t\tjsDom.css(confirmationArea, {\"width\":settings.panelwidth+\"px\", \"height\":panelheight+\"px\", \"background\":settings.panelcolor+\"\"});\n\t\t// Styling done //\n\t\taddConfirmationbuttons();\n\t};\n\n\tfunction addWebcamButtons() {\n\t\ttotalButtons = 2;\n\t\tvar takepicicon = settings.takepicicon;\n\t\tvar closebutton = settings.closebutton;\n\t\tif(settings.isShowTitleWithIcon){\n\t\tmakeImgBtnTooltip(\"take_pic\", takepicicon, settings.takepicicontooltip, addToWebcamBar);\n\t\tmakeImgBtnTooltip(\"close_cam\", closebutton, settings.closebuttontooltip, addToWebcamBar);\n\t\t}\n\t\telse{\n\t\tmakeImageButton(\"take_pic\", takepicicon, \"\", addToWebcamBar);\n\t\tmakeImageButton(\"close_cam\", closebutton, \"\", addToWebcamBar);\n\t\t}\n\t\t\n\t};\n\n\tfunction addToWebcamBar(strButton, buttonName) {\n\t\tif(confirmationArea!==null){\n\t\t\tjsDom.remove(confirmationArea);\n            confirmationArea = null;\n\t\t}\n\t\tvar btnElem= strButton.toDOM();\n\t\tjsDom.append(webcamArea, btnElem);\n\t\taddClickAction(buttonName);\n\t};\n\n\tfunction resetViewtoDefault(evt) {\n\t\tSwapToBar();\n\t};\n\n\tfunction addConfirmationbuttons(evt) {\n\t\tvar usepictureicon = settings.usepictureicon;\n\t\tvar closebutton = settings.closebutton;\n\t\tif(settings.isShowTitleWithIcon){\n\t\tmakeImgBtnTooltip(\"use_pic\", usepictureicon, settings.usepicturetooltip, addToConfirmBar);\n\t\tmakeImgBtnTooltip(\"retake\", closebutton, settings.discardpicturetooltip, addToConfirmBar);\n\t\t}\n\t\telse{\n\t\tmakeImageButton(\"use_pic\", usepictureicon, \"\", addToConfirmBar);\n\t\tmakeImageButton(\"retake\", closebutton, \"\", addToConfirmBar);\t\n\t\t}\n\t\t\n\n\t};\n\n\tfunction addToConfirmBar(strButton, buttonName) {\n\t\tvar btnElem= strButton.toDOM();\n\t\tjsDom.append(confirmationArea, btnElem);\n\t\taddClickAction(buttonName);\n\t};\n\n\tfunction addToDoneBar(strButton, buttonName) {\n\t\tvar btnElem= strButton.toDOM();\n\t\tjsDom.append(adjustArea, btnElem);\n\t\taddClickAction(buttonName);\n\t\tif(confirmationArea!==null){\n\t\t\tjsDom.remove(confirmationArea);\n            confirmationArea = null;\n\t\t}\n\t\tif(buttonName==\"ok_button\"){\n\t\t\tEventListener.dispatch(\"CHECK_FOR_MOBILE\",this);\n\t\t}\n\t};\n\n    function galleryClosed(){\n\n        SwapToBar();\n    }\n\n\t// auto intiate //\n\tthis.setupLayout();\n};","const CacheImage = require('./CacheImage').default;\nconst jsDom = require('./libs/jsDom').default;\nconst Tools = require('./libs/Tools').default;\nconst dragObject = require('./DragClass').default;\nconst WebcamToImage = require('./WebcamToImage').default;\n\n\nfunction TryonPreview(myWorkArea) {\n\tlet previewArea = myWorkArea;\n\tlet settings = settings_tryon;\n\tlet _previewRef = this;\n\tlet mainArea = null;\n\tlet webcam = null;\n\tlet cacheImg = new CacheImage();\n\tlet previewImage = null;\n\tlet dragleft = null;\n\tlet dragright = null;\n\tlet frameImage = null;\n\tlet _scaleFactor = 100;\n\tlet _rotation = 0;\n\tlet _frameScaleFactor = 100;\n\tlet _frameRotation = 0;\n\tlet dragImage = null;\n\tlet dragFrame = null;\n\tlet leftImage = null;\n\tlet rightImage = null;\n\tlet isUserImage = false;\n\tlet isModel = false;\n\tlet frameData = \"\";\n\tlet userImageData = \"\";\n\tlet cachedImage = false;\n\tlet cachedData = null;\n\tlet _isMirror = false;\n\tlet finalFrame = null;\n\tlet _modelNumber = 0;\n\tlet userImg = null;\n\tlet framemirror = '';\n\tlet cacheframe = \" \";\n\tlet isframe = true;\n\tlet rect = \"\";\n\tlet istrack = true;\n\n\n\n\tTryonPreview.prototype.setupLayout = function () {\n\n\t\tmainArea = jsDom.createNode(\"div\", { \"id\": \"mainArea\" }, \"\", \"parent\", previewArea);\n\t\tjsDom.css(previewArea, { \"width\": settings.width + \"px\", \"height\": settings.height + \"px\" });\n\t\tjsDom.css(mainArea, { \"overflow\": \"hidden\", \"position\": \"absolute\", \"width\": settings.width + \"px\", \"height\": settings.height + \"px\" });\n\t\t/*showing preloader for better appearance*/\n\t\tshowPreloader();\n\n\t\t/*adding listener from different views*/\n\t\tEventListener.addEventListener(\"FILE_LOAD_COMPLETE\", loadFileFromURL);\n\t\tEventListener.addEventListener(\"FILE_LOADING_INIT\", loadingInit);\n\t\tEventListener.addEventListener(\"MODEL_CHOOSEN\", loadImageFromURL);\n\t\tEventListener.addEventListener(\"WEBCAM_OPEN\", openCam);\n\t\tEventListener.addEventListener(\"ASK_FOR_CONFIRM\", pictureTaken);\n\t\tEventListener.addEventListener(\"RESET_VIEW_DEFAULT\", resetViewtoDefault);\n\t\tEventListener.addEventListener(\"WEBCAM_CLOSE\", resetViewtoDefault);\n\t\tEventListener.addEventListener(\"WEBCAM_RETAKE\", openCam);\n\t\tEventListener.addEventListener(\"ADJUSTMENT_STARTED\", adjustmentStarted);\n\t\tEventListener.addEventListener(\"ALL_DONE\", startCalculations);\n\n\t\t/*Adding Events for adjustments*/\n\t\tEventListener.addEventListener(\"SCALING\", scaleUserImage);\n\t\tEventListener.addEventListener(\"ROTATE\", rotateUserImage);\n\t\tEventListener.addEventListener(\"FRAME_SCALING\", scaleFrameImage);\n\t\tEventListener.addEventListener(\"FRAME_ROTATE\", rotateFrameImage);\n\t\tEventListener.addEventListener(\"APPLY_FRAME\", applyFrame);\n\t\tEventListener.addEventListener(\"SCALE_UP\", scaleFrameUp);\n\t\tEventListener.addEventListener(\"SCALE_DOWN\", scaleFrameDown);\n\t\tEventListener.addEventListener(\"FRAME_ROTATE_LEFT\", frameRotateLeft);\n\t\tEventListener.addEventListener(\"FRAME_ROTATE_RIGHT\", frameRotateRight);\n\t\tEventListener.addEventListener(\"FRAME_RESET\", frameReset);\n\t\tEventListener.addEventListener(\"FRAME_WITH_RESIZER\", showWithOldResizer);\n\n\t\t/* getting image from cache */\n\t\tcachedData = null;\n\t\tcacheImg.getImage(loadImageFromData);\n\n\n\t\t/* Adding listener if user wants to  the gallery */\n\t\tmainArea.addEventListener(\"click\", previewClicked);\n\t\tmainArea.addEventListener(\"touchstart\", previewClicked);\n\t};\n\n\tfunction openCam(evt) {\n\t\tjsDom.clearNode(mainArea);\n\t\tshowPreloader();\n\t\tif (webcam != null) {\n\t\t\twebcam.setupCam();\n\t\t} else {\n\t\t\twebcam = new WebcamToImage(mainArea);\n\t\t}\n\t};\n\tfunction resetViewtoDefault(evt) {\n\t\tcacheImg.getImage(loadImageFromData);\n\t};\n\tfunction loadingInit(evt) {\n\t\tshowPreloader();\n\t};\n\tfunction loadFileFromURL(evt, file, ext) {\n\n\t\tshowPreloader();\n\t\tif (window.File && window.FileReader && window.FileList && window.Blob) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = imageLoaded;\n\n\t\t\treader.readAsDataURL(file[0]);\n\t\t\tisUserImage = true;\n\t\t\t//EventListener.dispatch(\"ADJUSTMENT_STARTED\",this);\n\t\t} else {\n\t\t\tvar data = 'data:image/' + ext + ';base64,' + file;\n\t\t\tloadImageFromData(data);\n\t\t\tcacheImage(data);\n\t\t}\n\t\tif (userImg !== null) {\n\t\t\tjsDom.remove(userImg);\n\t\t}\n\t};\n\tfunction imageLoaded(e2) {\n\t\tloadImageFromData(e2.target.result);\n\t\tcacheImage(e2.target.result);\n\t};\n\n\tfunction imageLoadingCompelte() {\n\n\t\tjsDom.hide(jsDom.nodeById(\"imageprelaoder\"));\n\t\tvar w = this.naturalWidth;\n\t\tvar h = this.naturalHeight;\n\t\tvar tw = jsDom.getStyle(previewArea, \"width\", true);\n\t\tvar th = jsDom.getStyle(previewArea, \"height\", true);\n\n\t\tvar resVal = scaleToFit(w, h, tw, th, false);\n\t\tif (resVal) {\n\n\t\t\tpreviewImage.width = resVal.width;\n\t\t\tpreviewImage.height = resVal.height;\n\t\t\tjsDom.css(previewImage, { \"left\": resVal.targetleft + \"px\" });\n\t\t\tjsDom.css(previewImage, { \"top\": resVal.targettop + \"px\" });\n\t\t\tjsDom.css(previewImage, { \"display\": \"block\" });\n\n\t\t\tEventListener.dispatch(\"APPLY_FRAME\", this, settings_tryon.currentFrame, settings_tryon.tryonActive, \"1/5\")\n\n\t\t\tif (cachedImage) {\n\n\t\t\t\tjsDom.css(previewImage, { \"cssText\": cachedData.user });\n\t\t\t\tframeData = cachedData.frame;\n\t\t\t\tEventListener.dispatch(\"APPLY_FRAME\", this, settings_tryon.currentFrame, settings_tryon.tryonActive, \"1/5\");\n\t\t\t}\n\n\t\t\tif (isUserImage) {\n\n\t\t\t\tEventListener.dispatch(\"ADJUSTMENT_STARTED\", _previewRef);\n\t\t\t\tisUserImage = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t}\n\n\t};\n\tfunction cacheImage(strImageData) {\n\t\tcachedImage = false;\n\t\tcacheImg.saveImage(strImageData);\n\t};\n\t// load data from storage if not then load the default model //\n\tfunction loadImageFromData(objImageData) {\n\n\n\t\tif (objImageData) {\n\t\t\tvar imgToLoad = \"\";\n\n\t\t\tif (objImageData.hasOwnProperty(\"lastused\")) {\n\t\t\t\tif (objImageData.lastused !== \"image\") {\n\t\t\t\t\tcachedImage = false;\n\t\t\t\t\tconst modelToload = objImageData[objImageData.lastused];\n\t\t\t\t\tvar arrModels = settings.modelsimages.split(\",\");\n\t\t\t\t\timgToLoad = arrModels[modelToload];\n\n\t\t\t\t\t_modelNumber = parseInt(objImageData[objImageData.lastused]);\n\t\t\t\t\tif (objImageData[\"image\"] !== \"\") {\n\t\t\t\t\t\tmakeThumb(objImageData);\n\t\t\t\t\t}\n\t\t\t\t\tisModel = true;\n\t\t\t\t\tfinalFrame = null;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcachedImage = true;\n\t\t\t\t\tcachedData = objImageData;\n\n\t\t\t\t\timgToLoad = objImageData[objImageData.lastused];\n\n\t\t\t\t\tisModel = false;\n\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\tcachedImage = false;\n\t\t\t\timgToLoad = objImageData;\n\n\t\t\t\tisModel = false;\n\t\t\t}\n\t\t\tjsDom.clearNode(mainArea);\n\n\t\t\tshowPreloader();\n\n\t\t\tvar img = new Image();\n\t\t\timg.onload = function () {\n\t\t\t\tvar strImageData = Tools.reduceImage(img, 0.6);\n\t\t\t\tvar modelpic = jsDom.nodeById(\"previewImage\");\n\t\t\t\tjsDom.setAttr(modelpic, { \"src\": strImageData });\n\t\t\t}\n\t\t\timg.crossOrigin = \"Anonymous\";\n\t\t\timg.src = imgToLoad;\n\n\n\t\t\tpreviewImage = jsDom.createNode(\"img\", { \"id\": \"previewImage\", \"src\": imgToLoad, \"style\": \"position:absolute;display:none;\" }, \"\", \"parent\", mainArea);\n\n\t\t\tpreviewImage.onload = imageLoadingCompelte;\n\n\n\n\n\t\t} else {\n\n\t\t\tloadModelByNumber(null);\n\t\t\tisModel = true;\n\t\t\tfinalFrame = null;\n\t\t}\n\n\t};\n\t// load model by number, if not then load the default model from settings\n\tfunction loadModelByNumber(modelNumber) {\n\t\t// loading the default model //\n\t\tif (!modelNumber) {\n\t\t\tmodelNumber = settings.defaultmodel;\n\t\t}\n\t\tvar arrImages = settings.modelsimages.split(\",\");\n\t\tvar defaultModelURL = arrImages[parseInt(modelNumber)];\n\t\t_modelNumber = modelNumber;\n\t\tloadImageFromData(defaultModelURL);\n\t\tcacheImage(_modelNumber);\n\t};\n\n\tfunction loadImageFromURL(evt, strURL) {\n\t\tshowPreloader();\n\t\tloadImageFromData(strURL);\n\t\tvar arrImages = settings.modelsimages.split(\",\");\n\t\tvar modelNumber = 0;\n\t\tfor (var i = 0; i < arrImages.length; i++) {\n\t\t\tvar tempImageName = arrImages[i].split(\"/\");\n\t\t\tvar imageName = tempImageName[tempImageName.length - 1];\n\t\t\tif (strURL.indexOf(imageName) > -1) {\n\t\t\t\tisModel = true;\n\t\t\t\t_modelNumber = modelNumber = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcacheImg.getImage(makeThumb);\n\t\tcacheImg.saveImage(modelNumber);\n\t};\n\n\tfunction showPreloader() {\n\t\tvar preloaderElem = jsDom.createNode(\"div\", { \"id\": \"imageprelaoder\", \"style\": \"font-family:Arial;position:absolute;font-size:12px;color:\" + settings.fontcolor + \";text-align:center;line-height:\" + (parseInt(settings.height) + parseInt(settings.panelheight)) + \"px;width:100%;height:100%;background:url('\" + settings.preloader + \"') no-repeat 50% 50%;\" }, settings.loadingmsg, \"parent\", mainArea);\n\t};\n\n\tfunction previewClicked(evt) {\n\t\tEventListener.dispatch(\"AREA_CLICKED\", this);\n\t};\n\n\tfunction pictureTaken(evt, imgData, objParam) {\n\t\tisModel = false;\n\t\tisframe = false;\n\t\tjsDom.clearNode(mainArea);\n\t\tpreviewImage = jsDom.createNode(\"img\", { \"id\": \"previewImage\", \"src\": imgData, \"style\": \"position:absolute;display:none;text-align:center;\" }, \"\", \"parent\", mainArea);\n\t\tif (objParam) {\n\t\t\tif (objParam.enhancelight) {\n\t\t\t\tenhanceLight(previewImage, true);\n\t\t\t}\n\n\t\t}\n\t\tshowPreloader();\n\t\tpreviewImage.onload = imageLoadingCompelte;\n\n\n\t\tcacheImage(imgData);\n\t\tisUserImage = false;\n\t};\n\tfunction scaleToFit(srcwidth, srcheight, targetwidth, targetheight, fLetterBox) {\n\t\tvar result = { width: 0, height: 0, fScaleToTargetWidth: true };\n\t\tif ((srcwidth <= 0) || (srcheight <= 0) || (targetwidth <= 0) || (targetheight <= 0)) {\n\t\t\treturn result;\n\t\t}\n\t\t// scale to the target width\n\t\tvar scaleX1 = targetwidth;\n\t\tvar scaleY1 = (srcheight * targetwidth) / srcwidth;\n\t\t// scale to the target height\n\t\tvar scaleX2 = (srcwidth * targetheight) / srcheight;\n\t\tvar scaleY2 = targetheight;\n\t\t// now figure out which one we should use\n\t\tvar fScaleOnWidth = (scaleX2 > targetwidth);\n\t\tif (fScaleOnWidth) {\n\t\t\tfScaleOnWidth = fLetterBox;\n\t\t}\n\t\telse {\n\t\t\tfScaleOnWidth = !fLetterBox;\n\t\t}\n\t\tif (fScaleOnWidth) {\n\t\t\tresult.width = Math.floor(scaleX1);\n\t\t\tresult.height = Math.floor(scaleY1);\n\t\t\tresult.fScaleToTargetWidth = true;\n\t\t}\n\t\telse {\n\t\t\tresult.width = Math.floor(scaleX2);\n\t\t\tresult.height = Math.floor(scaleY2);\n\t\t\tresult.fScaleToTargetWidth = false;\n\t\t}\n\t\tresult.targetleft = Math.floor((targetwidth - result.width) / 2);\n\t\tresult.targettop = Math.floor((targetheight - result.height) / 2);\n\t\treturn result;\n\t};\n\n\tfunction swapMirror(elem, isMirror) {\n\t\tif (isMirror) {\n\t\t\t_isMirror = isMirror;\n\t\t\t//jsDom.css(elem, {\"transform\":\"rotateY(180deg)\", \"-webkit-transform\":\"rotateY(180deg);\", \"-moz-transform\":\"rotateY(180deg)\"});\n\n\t\t}\n\t};\n\n\tfunction enhanceLight(elem, isLowLight) {\n\t\tif (isLowLight) {\n\t\t\tjsDom.css(elem, { \"filter\": \"url(#brightness)\", \"-webkit-filter\": \" brightness(150%)\" });\n\t\t}\n\t};\n\n\tfunction adjustmentStarted(evt) {\n\t\tif (istrack == false) {\n\t\t\tleftImage = jsDom.createNode(\"img\", { \"id\": \"dummy_left\", \"src\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABf0lEQVQ4jZWSP0hCURTGf0dCCISEWiwCI9AoxE1wCF8uIkQtRVttzba4NNTSXGM2tvUHtAhCif5MgdAQb7GGRCRqiCgSBJfT4POBPnrVB5fL4XznO+fe84ELVDWhqgk3Tp9bEjCs++YXXlfXqKrm1Ym8qkZ7+dJTPE/V3OHywKR8/tLFjKUDJJcijEUyInLiEFDVKG/Px6zPXbqOuHWaZGhkQUTuATx2otXMsZst2/FkfJDRCZ9DYDdbptXMdUKP1T3Bk+mnXmnYxMW1OMmlsEOgXmnwZPo72+lMYPD+2nCQf0KbawD0qeqVFdz9WaCNTVU1PCIyA2T+WQyQEZGZjpEKBKeyDkpkOsTGYQCAu4tHzvYeAQhOBYACWE4UkZqqloilA/b+j7Zv8fm9tthL9Qto+2F4vCQiNej2wQCtZpHiftPu1IvZ1RCp5X68/SkR+ewSsEVgh6ppUC4+0PhoAeDze4mlwoxFrq23f7r+jqquWN6vWievqiuuRS5CroXfPpC2JqI4riYAAAAASUVORK5CYII=\" }, \" \", \"parent\", mainArea);\n\t\t\tjsDom.css(leftImage, { \"left\": \"40px\", \"position\": \"absolute\", \"top\": \"70px\" });\n\n\t\t\trightImage = jsDom.createNode(\"img\", { \"id\": \"dummy_right\", \"src\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABzUlEQVQ4jYWTT0hUURTGf2ewseTJWCj0lMEx+/MgxsFFkkQos2uRFQQuZ/qzyIWgmzZBkOTGAoW2EbQKoXBqE21MNxkPImIIH1KWDFmRmTGPIjenxbwm7zx5Hrib833nO9+5516ICFXNqWouilMXBQKpHfBtu2ZUdUbDMaOqmVq+1BSf4UNxitnpIu7Tzwaz55RNdjBNR3pERB6HBFQ1w9qnh1wbmI20OP4kS3PbeRF5Ywr8+fWSicvvKXk+ScciO3ikWrTorlYdJR2Lq3c7pb7hOEAs6N7HcrGJkucDYHc04hxrp7S0BsClm6dJOhYAJc9nudikqn0AseBi8qx/8UN2/Y1NFt3VUL7Czatqpg7IA/3Ad4O0a3c9JwYOc6ArxfTtZ1V3/6Mf2IiJyCgwxb79lgGX18tMDs3z9sUSJ8+lDSx11AZGRGQ0FqTmaDvUalj/ulJx9GDiFVBZI0CiJU5rZwMwB+Yan+O5NpND86GZt8aVW710Zx+JyI1agQRQwHNt7l1f4Oe3TaMw0RLn4lgvTs+CiFz4lzZeYiCUo/zjDu9ef+S3XxHZY8U52J2ice+wiNzfyg8JBCLtwNngABSAgoisRI63nZudvvNfuvW/5I2aJFYAAAAASUVORK5CYII=\" }, \" \", \"parent\", mainArea);\n\t\t\tjsDom.css(rightImage, { \"left\": \"145px\", \"position\": \"absolute\", \"top\": \"70px\" });\n\n\t\t\tdragImage = new dragObject(\"previewImage\");\n\t\t\t//dragFrame = new dragObject(\"dummy_frame\");\n\t\t\tdragleft = new dragObject(\"dummy_left\");\n\t\t\tdragright = new dragObject(\"dummy_right\");\n\t\t\tif (isframe) {\n\n\t\t\t\tjsDom.remove(finalFrame);\n\t\t\t\tisframe = false;\n\n\t\t\t}\n\t\t}\n\t\tif (isframe) {\n\n\t\t\tjsDom.remove(finalFrame);\n\t\t\tisframe = false;\n\n\t\t}\n\t\tdragImage = new dragObject(\"previewImage\");\n\n\n\t};\n\tfunction scaleUserImage(evt, scalefactor) {\n\n\t\t_scaleFactor = scalefactor;\n\t\tsetTransform(previewImage, _rotation, scalefactor);\n\t};\n\n\tfunction rotateUserImage(evt, rotation) {\n\t\t_rotation = rotation;\n\t\tsetTransform(previewImage, rotation, _scaleFactor);\n\t};\n\n\tfunction scaleFrameImage(evt, frameScalefactor) {\n\t\t_frameScaleFactor = frameScalefactor;\n\t\tsetTransform(frameImage, _frameRotation, frameScalefactor);\n\t};\n\n\tfunction rotateFrameImage(evt, rotation) {\n\t\t_frameRotation = rotation;\n\t\tsetTransform(frameImage, rotation, _frameScaleFactor);\n\t};\n\n\tfunction setTransform(elem, fRotation, fScale) {\n\t\tvar mirrorMode = \"0\";\n\t\tif (_isMirror) {\n\t\t\t//mirrorMode = \"180\"; old\n\t\t\tmirrorMode = \"0\";\n\t\t}\n\t\tjsDom.css(elem, { \"-ms-transform\": \"rotate(\" + fRotation + \"deg) scale(\" + fScale / 100 + \", \" + fScale / 100 + \") rotateY(\" + mirrorMode + \"deg)\", \"-webkit-transform\": \"rotate(\" + fRotation + \"deg) scale(\" + fScale / 100 + \", \" + fScale / 100 + \") rotateY(\" + mirrorMode + \"deg)\", \"transform\": \"rotate(\" + fRotation + \"deg) scale(\" + fScale / 100 + \", \" + fScale / 100 + \") rotateY(\" + mirrorMode + \"deg)\" });\n\t};\n\tfunction getTransformData(container, cb) {\n\t\tvar scale = 1;\n\t\tvar fRotation = 0;\n\t\tvar st = window.getComputedStyle(container, null);\n\t\tvar tr = st.getPropertyValue(\"-webkit-transform\") ||\n\t\t\tst.getPropertyValue(\"-moz-transform\") ||\n\t\t\tst.getPropertyValue(\"-ms-transform\") ||\n\t\t\tst.getPropertyValue(\"-o-transform\") ||\n\t\t\tst.getPropertyValue(\"transform\") ||\n\t\t\t\"FAIL\";\n\t\tif (tr != 'none') {\n\t\t\tconsole.log(tr);\n\t\t\tvar values = tr.split('(')[1].split(')')[0].split(',');\n\t\t\tvar a = values[0];\n\t\t\tvar b = values[1];\n\t\t\tvar c = values[2];\n\t\t\tvar d = values[3];\n\t\t\tscale = Math.sqrt(a * a + b * b);\n\t\t\tvar fScale = scale * 100;\n\t\t\tvar sin = b / scale;\n\t\t\tvar angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));\n\t\t\tfRotation = angle;\n\n\t\t}\n\t\tcb(scale, fRotation);\n\t};\n\n\n\tfunction startCalculations() {\n\n\t\t// Calculate the frame width height left top & Save the width, height, left, top of the frame and in the cache//\n\t\tif (istrack == false) {\n\t\t\tcalculateDimensions();\n\t\t\tdestroyAdditional();\n\t\t}\n\t\telse {\n\t\t\tvar data = '';\n\n\t\t\tvar mainimage = jsDom.nodeById(\"previewImage\");\n\t\t\tvar canvaswidth = mainimage.width;\n\t\t\tvar canvasheight = mainimage.height;\n\t\t\tvar canvas = document.createElement('canvas');\n\t\t\tcanvas.width = canvaswidth;\n\t\t\tcanvas.height = canvasheight;\n\n\t\t\tvar scalefactor = mainimage.naturalHeight / mainimage.height;\n\t\t\tvar ctx = canvas.getContext(\"2d\");\n\t\t\tgetTransformData(mainimage, function (scale, fRotation) {\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(mainimage.width / 2, mainimage.height / 2);\n\t\t\t\tctx.rotate(fRotation * Math.PI / 180);\n\t\t\t\tctx.scale(scale, scale);\n\t\t\t\tctx.drawImage(mainimage, -mainimage.width / 2, -mainimage.height / 2, mainimage.width, mainimage.height);\n\n\t\t\t\tdata = canvas.toDataURL('image/png');\n\t\t\t\tvar trackimage = new Image();\n\t\t\t\ttrackimage.src = data;\n\t\t\t\ttrackimage.id = \"trackingImage\";\n\t\t\t\ttrackimage.style.display = \"none\";\n\t\t\t\ttrackimage.width = canvaswidth;\n\t\t\t\ttrackimage.height = canvasheight;\n\t\t\t\tjsDom.nodeById('mainArea').appendChild(trackimage);\n\n\t\t\t\ttrackimage.onload = function () {\n\n\t\t\t\t\tvar tracker = new tracking.ObjectTracker(['eye']);\n\t\t\t\t\ttracker.setStepSize(1.7);\n\t\t\t\t\ttracking.track('#trackingImage', tracker);\n\t\t\t\t\ttracker.on('track', function (event) {\n\n\t\t\t\t\t\tif (event.data.length == 0) {\n\t\t\t\t\t\t\tistrack = false;\n\t\t\t\t\t\t\tEventListener.dispatch(\"ADJUSTMENT_STARTED\", this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tevent.data.forEach(function (rect) {\n\t\t\t\t\t\t\twindow.plot(rect.x, rect.y, rect.width, rect.height);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\twindow.plot = function (x, y, w, h) {\n\t\t\t\t\t\trect = document.createElement('div');\n\t\t\t\t\t\tdocument.getElementById('mainArea').appendChild(rect);\n\t\t\t\t\t\tif (rect.style)\n\t\t\t\t\t\t\trect.id = 'rect' + i;\n\t\t\t\t\t\trect.style.width = w + 'px';\n\t\t\t\t\t\trect.style.height = h + 'px';\n\t\t\t\t\t\trect.style.left = (previewImage.offsetLeft + x) + 'px';\n\t\t\t\t\t\trect.style.top = (previewImage.offsetTop + y) + 'px';\n\t\t\t\t\t\trect.style.position = \"absolute\";\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tif (i == 2) {\n\t\t\t\t\t\t\tcalculateDimensions();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\t\t\t\t};\n\n\n\t\t\t})\n\n\t\t}\n\n\n\n\t\t// destroy the adjustment functionalists added to the preview area//\n\n\t};\n\n\tfunction calculateDimensions() {\n\t\tif (istrack == false) {\n\t\t\tvar obj = {};\n\t\t\tobj.Lleft = leftImage.style.left.split(\"px\").join('');\n\t\t\tobj.Ltop = leftImage.style.top.split(\"px\").join('');\n\t\t\tobj.Rleft = rightImage.style.left.split(\"px\").join('');\n\t\t\tobj.Rtop = rightImage.style.top.split(\"px\").join('');\n\n\t\t\tframeData = obj;\n\t\t\tuserImageData = previewImage.style.cssText;\n\t\t\tcacheImg.saveFrameData(frameData, userImageData);\n\n\n\t\t}\n\t\telse {\n\t\t\tlet eyeleft = jsDom.nodeById('rect0');\n\t\t\tlet eyeright = jsDom.nodeById('rect1');\n\t\t\tlet obj = {};\n\n\t\t\tif (parseInt(eyeleft.style.left.split(\"px\").join('')) < parseInt(eyeright.style.left.split(\"px\").join(''))) {\n\t\t\t\tobj.Lleft = parseInt(parseInt(eyeleft.style.left.split(\"px\").join('')) + parseInt(eyeleft.style.width.split('px').join('')) / 2);\n\t\t\t\tobj.Ltop = parseInt(parseInt(eyeleft.style.top.split(\"px\").join('')) + parseInt(eyeleft.style.height.split('px').join('')) / 2);\n\t\t\t\tobj.Rleft = parseInt(parseInt(eyeright.style.left.split(\"px\").join('')) + parseInt(eyeright.style.width.split('px').join('')) / 2);\n\t\t\t\tobj.Rtop = parseInt(parseInt(eyeright.style.top.split(\"px\").join('')) + parseInt(eyeright.style.height.split('px').join('')) / 2);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tobj.Lleft = parseInt(parseInt(eyeright.style.left.split(\"px\").join('')) + parseInt(eyeright.style.width.split('px').join('')) / 2);\n\t\t\t\tobj.Ltop = parseInt(parseInt(eyeright.style.top.split(\"px\").join('')) + parseInt(eyeright.style.height.split('px').join('')) / 2);\n\t\t\t\tobj.Rleft = parseInt(parseInt(eyeleft.style.left.split(\"px\").join('')) + parseInt(eyeleft.style.width.split('px').join('')) / 2);\n\t\t\t\tobj.Rtop = parseInt(parseInt(eyeleft.style.top.split(\"px\").join('')) + parseInt(eyeleft.style.height.split('px').join('')) / 2);\n\t\t\t}\n\n\t\t\tif (jsDom.nodeById('trackingImage')) {\n\t\t\t\tjsDom.remove(jsDom.nodeById('trackingImage'));\n\t\t\t}\n\t\t\tframeData = obj;\n\t\t\tuserImageData = previewImage.style.cssText;\n\n\t\t\tcacheImg.saveFrameData(frameData, userImageData);\n\n\t\t\tEventListener.dispatch(\"APPLY_FRAME\", this, settings_tryon.currentFrame, settings_tryon.tryonActive, \"1/5\")\n\t\t\tdestroyAdditional();\n\n\t\t}\n\t};\n\n\tfunction destroyAdditional() {\n\t\tif (istrack == false) {\n\t\t\tistrack = true;\n\t\t\tdragImage.StopListening(true);\n\t\t\tdragleft.StopListening(true);\n\t\t\tdragright.StopListening(true);\n\t\t\tif (leftImage && rightImage) {\n\t\t\t\tjsDom.remove(leftImage);\n\t\t\t\tjsDom.remove(rightImage);\n\t\t\t\tleftImage = null;\n\t\t\t\trightImage = null;\n\t\t\t}\n\t\t\tisUserImage = false;\n\t\t}\n\t\telse {\n\t\t\tdragImage.StopListening(true);\n\t\t\tvar eyeleft = jsDom.nodeById('rect0');\n\t\t\tvar eyeright = jsDom.nodeById('rect1');\n\n\t\t\tif (eyeleft && eyeright) {\n\n\n\t\t\t\tjsDom.remove(eyeleft);\n\t\t\t\tjsDom.remove(eyeright);\n\n\t\t\t\teyeleft = null;\n\t\t\t\teyeright = null;\n\t\t\t}\n\t\t\tisUserImage = false;\n\t\t}// makeAdjustmentButton();\n\t};\n\n\tfunction makeAdjustmentButton() {\n\t\tvar adjustmentButton = jsDom.createNode(\"div\", { \"id\": \"adjustButton\", \"style\": \"position: absolute; cursor:pointer; width:18px;height:18px;overflow:hidden; bottom: 5px;left:5px;\" }, \"\", \"parent\", previewArea);\n\t\tjsDom.html(adjustmentButton, '<img src=\"' + settings.adjustmenticon + '\" width=\"100%\" height=\"100%\"/>');\n\t\tadjustmentButton.addEventListener(\"click\", function () {\n\t\t\tEventListener.dispatch(\"ADJUSTMENT_STARTED\", _previewRef);\n\t\t\tfinalFrame = jsDom.nodeById(\"frame\");\n\t\t\tif (finalFrame != null) {\n\t\t\t\tjsDom.remove(finalFrame);\n\t\t\t}\n\t\t\tjsDom.remove(this);\n\t\t});\n\t\tadjustmentButton.addEventListener(\"touchstart\", function () {\n\t\t\tEventListener.dispatch(\"ADJUSTMENT_STARTED\", _previewRef);\n\t\t\tfinalFrame = jsDom.nodeById(\"frame\");\n\t\t\tif (finalFrame != null) {\n\t\t\t\tjsDom.remove(finalFrame);\n\t\t\t}\n\t\t\tjsDom.remove(this);\n\t\t})\n\t};\n\n\tfunction makeThumb(objImageData) {\n\n\t\tif (objImageData[\"image\"] === \"\") {\n\t\t\treturn;\n\t\t}\n\t\tvar userImg = jsDom.nodeById(\"userThumb\");\n\t\tif (userImg != null) {\n\t\t\tjsDom.remove(userImg);\n\t\t}\n\t\tuserImg = jsDom.createNode(\"div\", { \"id\": \"userThumb\", \"style\": \"position: absolute; overflow:hidden;cursor:pointer; width: 40px; height:auto; bottom: 5px;right: 5px;\" }, \"\", \"parent\", previewArea);\n\n\t\tjsDom.html(userImg, '<img src=\"' + objImageData[\"image\"] + '\" id=\"userimage\" style=\"display:none; border:3px solid #fff\"/>');\n\t\tvar userimage = jsDom.nodeById(\"userimage\");\n\t\tvar scale = userimage.naturalWidth / 30;\n\t\tvar newHeight = Math.round(userimage.naturalHeight / scale);\n\t\tjsDom.css(userimage, { \"width\": \"30px\", \"height\": newHeight + \"px\", \"display\": \"block\" });\n\t\tjsDom.setAttr(userimage, { \"width\": \"30\", \"height\": newHeight });\n\n\t\tuserImg.addEventListener(\"click\", function () {\n\t\t\tobjImageData.lastused = \"image\";\n\t\t\tloadImageFromData(objImageData);\n\t\t\tcacheImg.saveImage(objImageData[\"image\"]);\n\t\t\tframeData = objImageData['frame'];\n\t\t\tjsDom.remove(this);\n\t\t});\n\t\tuserImg.addEventListener(\"touchstart\", function () {\n\t\t\tobjImageData.lastused = \"image\";\n\t\t\tloadImageFromData(objImageData);\n\n\t\t\tcacheImg.saveImage(objImageData[\"image\"]);\n\n\t\t\tframeData = objImageData['frame'];\n\t\t\tjsDom.remove(this);\n\t\t});\n\t};\n\tfunction showWithOldResizer(evt, fScale, fRotation, left, top) {\n\t\tsetframetransform(fScale, fRotation, left, top);\n\t};\n\tfunction scaleFrameUp(evt, fScale, fRotation, left, top) {\n\t\tsetframetransform(fScale, fRotation, left, top);\n\t};\n\tfunction scaleFrameDown(evt, fScale, fRotation, left, top) {\n\t\tsetframetransform(fScale, fRotation, left, top);\n\t};\n\tfunction frameRotateLeft(evt, fScale, fRotation, left, top) {\n\t\tsetframetransform(fScale, fRotation, left, top);\n\t};\n\tfunction frameRotateRight(evt, fScale, fRotation, left, top) {\n\t\tsetframetransform(fScale, fRotation, left, top);\n\t};\n\tfunction frameReset(evt) {\n\t\tfinalFrame.style.cssText = framemirror;\n\t\tfinalFrame.style.display = \"block\";\n\t\tEventListener.dispatch(\"INIT_RESIZER\", this, finalFrame);\n\t};\n\tfunction setframetransform(fScale, fRotation, left, top) {\n\t\tif (finalFrame) {\n\t\t\tvar mirrorMode = 0;\n\t\t\tjsDom.css(finalFrame, { \"display\": \"block\", \"left\": left, \"top\": top, \"-ms-transform\": \"rotate(\" + fRotation + \"deg) scale(\" + fScale / 100 + \", \" + fScale / 100 + \") rotateY(\" + mirrorMode + \"deg)\", \"-webkit-transform\": \"rotate(\" + fRotation + \"deg) scale(\" + fScale / 100 + \", \" + fScale / 100 + \") rotateY(\" + mirrorMode + \"deg)\", \"transform\": \"rotate(\" + fRotation + \"deg) scale(\" + fScale / 100 + \", \" + fScale / 100 + \") rotateY(\" + mirrorMode + \"deg)\" });\n\t\t}\n\n\t}\n\n\tfunction applyFrame(evt, strFrame, tryonID, strFrameYPos) {\n\n\t\tvar webarea = jsDom.nodeById('confirmationArea');\n\t\tvar webcamOpened = jsDom.nodeById('tryon_webcam');\n\n\n\t\tif (webarea || webcamOpened) {\n\t\t\treturn;\n\t\t}\n\n\t\tfinalFrame = jsDom.nodeById(\"frame\");\n\t\tif (finalFrame != null) {\n\t\t\tvar oldleft = finalFrame.style.left;\n\t\t\tvar oldtop = finalFrame.style.top;\n\n\t\t\tjsDom.remove(finalFrame);\n\n\t\t}\n\t\tstrFrame = strFrame.split(\"http:\").join(\"\").split(\"https:\").join(\"\").split(\"file:/\").join(\"\");\n\t\tvar frameYPos = 5;\n\t\tif (strFrameYPos != \"\") {\n\t\t\tvar tempYPos = strFrameYPos.split(\"/\");\n\t\t\tframeYPos = parseInt(tempYPos[1]);\n\t\t}\n\t\tvar frameHeight = 0;\n\t\tvar img = new Image();\n\t\timg.onload = function () {\n\n\t\t\tvar strImageData = Tools.reduceImage(img, 0.6);\n\t\t\tvar finalF = jsDom.nodeById(\"frame\");\n\t\t\tjsDom.setAttr(finalF, { \"src\": strImageData });\n\t\t}\n\t\timg.crossOrigin = \"Anonymous\";\n\t\timg.src = strFrame;\n\t\tif (isModel) {\n\t\t\t/// here is the logic for the model,\n\t\t\tvar arrTmpModel = settings.modeldata.split(\",\");\n\t\t\tvar modelData = arrTmpModel[_modelNumber];\n\t\t\tvar tempXY = modelData.split(\":\");\n\t\t\tvar framePOSLeft = tempXY[0].split(\"-\");\n\t\t\tvar framePOSRight = tempXY[1].split(\"-\");\n\t\t\tvar frameWidth = 2.2 * (parseFloat(framePOSRight[0] - parseFloat(framePOSLeft[0])));\n\t\t\tvar frameLeft = framePOSLeft[0] - (frameWidth / 3.8);\n\t\t\tvar frameTop = framePOSLeft[1];\n\t\t\tfinalFrame = jsDom.createNode(\"img\", { \"id\": \"frame\", \"src\": strFrame }, \"\", \"parent\", mainArea);\n\t\t\tjsDom.css(finalFrame, { \"display\": \"none\", \"position\": \"absolute\", \"opacity\": \"0.84\", \"left\": frameLeft + \"px\", \"width\": frameWidth + \"px\" });\n\n\n\t\t\tfinalFrame.onload = function () {\n\t\t\t\tvar frameNaturalWidth = finalFrame.naturalWidth;\n\t\t\t\tvar frameNaturalHeight = finalFrame.naturalHeight;\n\t\t\t\tvar ratio = frameWidth / frameNaturalWidth;\n\t\t\t\tframeHeight = frameNaturalHeight * ratio;\n\n\t\t\t\tfinalFrame.style.imageRendering = \"optimizeQuality\";\n\t\t\t\tjsDom.css(finalFrame, { \"top\": parseFloat(frameTop) - (frameHeight / frameYPos) + \"px\", \"height\": frameHeight + \"px\", \"display\": \"block\", \"opacity\": \"0.96\" });\n\t\t\t\tjsDom.setAttr(finalFrame, { \"width\": frameWidth, \"height\": frameHeight });\n\t\t\t\tframemirror = finalFrame.style.cssText;\n\t\t\t\tEventListener.dispatch(\"INIT_RESIZER\", this, finalFrame, frameLeft, frameTop);\n\t\t\t\t//EventListener.dispatch(\"OLD_RESIZER\",this);\n\t\t\t\tdragFrame = new dragObject(\"frame\");\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\n\t\telse {\n\n\t\t\tisframe = true;\n\n\t\t\tvar frameWidth = 2.2 * (parseFloat(frameData.Rleft) - parseFloat(frameData.Lleft));\n\t\t\tvar frameLeft = (frameData.Lleft) - (frameWidth / 4.4);\n\t\t\tvar frameTop = frameData.Ltop;\n\n\t\t\tfinalFrame = jsDom.createNode(\"img\", { \"id\": \"frame\", \"src\": strFrame }, \"\", \"parent\", mainArea);\n\t\t\tjsDom.css(finalFrame, { \"display\": \"none\", \"position\": \"absolute\", \"opacity\": \"0.84\", \"left\": frameLeft + \"px\", \"width\": frameWidth + \"px\" });\n\n\n\t\t\tfinalFrame.onload = function () {\n\t\t\t\tvar frameNaturalWidth = finalFrame.naturalWidth;\n\t\t\t\tvar frameNaturalHeight = finalFrame.naturalHeight;\n\t\t\t\tvar ratio = frameWidth / frameNaturalWidth;\n\t\t\t\tframeHeight = frameNaturalHeight * ratio;\n\n\t\t\t\tfinalFrame.style.imageRendering = \"optimizeQuality\";\n\t\t\t\tjsDom.css(finalFrame, { \"top\": parseFloat(frameTop) - (frameHeight / frameYPos) + \"px\", \"height\": frameHeight + \"px\", \"position\": \"absolute\", \"display\": \"block\", \"opacity\": \"0.96\" });\n\t\t\t\tjsDom.setAttr(finalFrame, { \"width\": frameWidth, \"height\": frameHeight });\n\t\t\t\t//framemirror=finalFrame.style.cssText;\n\t\t\t\tEventListener.dispatch(\"INIT_RESIZER\", this, finalFrame, frameLeft, frameTop);\n\t\t\t\t//EventListener.dispatch(\"OLD_RESIZER\",this);\n\t\t\t\tdragFrame = new dragObject(\"frame\");\n\n\t\t\t}\n\n\n\t\t}\n\t};\n\t// auto initiate //\n\tthis.setupLayout();\n};\n\nexport default TryonPreview;","const jsDom = require('./libs/jsDom').default;\nexport default function WebcamToImage(playBackArea){\n\tconst _webcam = this;\n\tlet _playbackArea = playBackArea;\n\tlet settings = settings_tryon;\n\tlet vid =null;\n\tlet can = null;\n\tlet camWidth = 400;\n\tlet camHeight = 300;\n\tlet isMirror = false;\n\tlet isEnhancedLight = false;\n    let camInitiated = false;\n\tlet stream = null;\n\n\tnavigator.getUserMedia = ( navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia);\n\t\n\tWebcamToImage.prototype.setupCam = function(){\n\t\tresetCam();\n        if(!EventListener.hasEventListener(\"WEBCAM_CLOSE\", closeCam, _webcam, true)){\n            EventListener.addEventListener(\"WEBCAM_CLOSE\", closeCam, _webcam, true);\n            EventListener.addEventListener(\"WEBCAM_TAKE_PICTURE\", takePicture, _webcam);\n            EventListener.addEventListener(\"FLASH_CAM_DENIED\", camDenied);\n            if(navigator.getUserMedia){\n                vid = jsDom.createNode(\"video\", {\"id\":\"tryon_webcam\", \"width\":camWidth, \"height\":camHeight, \"style\":\"position:absolute;\"}, \"\", \"parent\", _playbackArea);\n                jsDom.css(vid, {\"transform\":\"rotateY(0deg)\", \"-webkit-transform\":\"rotateY(0deg);\", \"-moz-transform\":\"rotateY(0deg)\", \"display\":\"none;\"});\n                can = jsDom.createNode(\"canvas\", {\"id\":\"tryon_canvas\", \"width\":settings.width+\"\", \"height\":settings.height+\"\", \"style\":\"position:absolute;display:none;\"}, \"\", \"parent\", _playbackArea);\n                var tw = jsDom.getStyle(_playbackArea, \"width\", true);\n                var th = jsDom.getStyle(_playbackArea, \"height\", true);\n\n                var resVal = scaleToFit(camWidth, camHeight, tw, th, false);\n                if(resVal){\n                    vid.width = resVal.width;\n                    vid.height = resVal.height;\n                    jsDom.css(vid, {\"left\":resVal.targetleft+\"px\"});\n                    jsDom.css(vid, {\"top\":resVal.targettop+\"px\"});\n                };\n                startHtmlCamera(vid);\n            }else{\n                startFlashCamera();\n            }\n        }\n\t};\n\tfunction startHtmlCamera(video) {\n\t\tconst successCallback = function(_stream){\n\t\t\tif (_stream.getVideoTracks().length == 0) {\n                EventListener.dispatch(\"noCamFound\", this);\n\t\t\t\tcloseCam(true);\n        \t\treturn;\n    \t\t}\n\n\t\t\tvideo.srcObject = _stream;\n\t\t\tvideo.play();\n\t\t\t/*if (window.URL){\n\t\t\t    video.src = window.URL.createObjectURL(_stream);\n\t\t\t}else{\n\t\t\t\tvideo.srcObject = _stream;\n\t\t\t\tvideo.play();\n\t\t\t};*/\n\t\t    jsDom.css(video, {\"display\":\"block\"});\n\n\t\t\tvideo.play();\n            camInitiated = true;\n            EventListener.dispatch(\"WEBCAM_READY\", this);\n\t\t\tAddPanel();\n\t\t};\n\t\tvar errorCallback = function(error){\n            if(error.name == \"PermissionDeniedError\"){\n                // TODO: Add \"cameraPermissionDenied\" as public event.\n                EventListener.dispatch(\"cameraPermissionDenied\", this);\n            }\n            camInitiated = false;\n\t\t\tcloseCam(true);\n\t\t};\n\t\tnavigator.getUserMedia({audio: false, video: true}, successCallback, errorCallback);\n\t};\n\n\tfunction AddPanel() {\n\t\tvar panel = jsDom.createNode(\"div\", {\"style\":\"position:absolute; top:0;left:0;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAAHe9q7oAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRFMzM4RUI1NTIzODExRTRBRTVBRTRFMjA0NzM2OTVBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRFMzM4RUI2NTIzODExRTRBRTVBRTRFMjA0NzM2OTVBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REUzMzhFQjM1MjM4MTFFNEFFNUFFNEUyMDQ3MzY5NUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REUzMzhFQjQ1MjM4MTFFNEFFNUFFNEUyMDQ3MzY5NUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6Dw1B6AAAAK0lEQVR42mJQVVbpBwggBhABEECMYBYQAAQQnMHEAAUAAcYCE4EBJgY0AAAI3ATyMVu6KgAAAABJRU5ErkJggg==); width:\"+settings.width+\"px; height:20px;\"}, \"\", \"parent\", _playbackArea);\n\t\t\n\t\tvar lowLightLabel = jsDom.createNode(\"label\", {\"style\":\"color:#fff; font-size:12px;float:right; width:89px; line-height:20px; font-family:Arial; display:block;\"}, \"\", \"parent\", panel);\n\t\tjsDom.html(lowLightLabel, \"Low light\");\n\t\tvar lowLight = jsDom.createNode(\"input\", {\"type\":\"checkbox\", \"id\":\"lowlight\", \"style\":\"float:left;\"}, \"\", \"parent\", lowLightLabel);\n\n\t\tvar mirrorModeLabel = jsDom.createNode(\"label\", {\"style\":\"color:#fff;float:left; font-size:12px; line-height:20px; width:89px; font-family:Arial; display:block;\"}, \"\", \"parent\", panel);\n\t\tjsDom.html(mirrorModeLabel, \"Mirror mode\");\n\t\tvar mirrorMode = jsDom.createNode(\"input\", {\"type\":\"checkbox\", \"id\":\"mirrormode\", \"style\":\"float:left\"}, \"\", \"parent\", mirrorModeLabel);\n\n\n\t\tmirrorMode.addEventListener(\"click\", function(evt){\n\t\t\tisMirror = jsDom.getProperty(mirrorMode, \"checked\");\n\t\t\tswapMirror(isMirror);\n\t\t\tdisabledEventPropagation(evt);\n\t\t});\n\t\tmirrorMode.addEventListener(\"touchstart\", function(evt){\n\t\t\tisMirror = jsDom.getProperty(mirrorMode, \"checked\");\n\t\t\tswapMirror(isMirror);\n\t\t\tdisabledEventPropagation(evt);\n\t\t});\n\n\t\tlowlight.addEventListener(\"click\", function(evt){\n\t\t\tisEnhancedLight = jsDom.getProperty(lowlight, \"checked\");\n\t\t\tenhanceLight(isEnhancedLight);\n\t\t\tdisabledEventPropagation(evt);\n\t\t});\n\t\tlowlight.addEventListener(\"touchstart\", function(evt){\n\t\t\tisEnhancedLight = jsDom.getProperty(lowlight, \"checked\");\n\t\t\tenhanceLight(isEnhancedLight);\n\t\t\tdisabledEventPropagation(evt);\n\t\t});\n\t};\n\n\tfunction swapMirror(isMirror) {\n\t\tif(isMirror){\n\t\t\tjsDom.css(vid, {\"transform\":\"scaleX(-1)\", \"-webkit-transform\":\"scaleX(-1);\", \"-moz-transform\":\"scaleX(-1)\", \"display\":\"block;\"});\n\t\t}else{\n\t\t\tjsDom.css(vid, {\"transform\":\"scaleX(1)\", \"-webkit-transform\":\"scaleX(1);\", \"-moz-transform\":\"scaleX(1)\", \"display\":\"block;\"});\n\t\t};\n\t};\n\n\tfunction enhanceLight(isLowLight) {\n\t\tif(isLowLight){\n\t\t\tjsDom.css(vid, {\"filter\":\"url(#brightness)\", \"-webkit-filter\":\" brightness(150%)\", \"display\":\"block;\"});\n\t\t}else{\n\t\t\tjsDom.removeStyle(vid, \"filter\");\n\t\t\tjsDom.css(vid, {\"-webkit-filter\":\" brightness(100%)\", \"display\":\"block;\"});\n\t\t};\n\t};\n\t// Starting up flash camera //\n\tfunction startFlashCamera(){\n        vid = jsDom.createNode(\"div\", {\"id\":\"tryon_webcam\", \"width\":settings.width, \"height\":settings.height, \"style\":\"position:absolute;top:0px;display:block;\"}, \"\", \"parent\", _playbackArea);\n        jsDom.html(vid, '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"'+settings.width+'\" height=\"'+settings.height+'\" id=\"webcam_flash\"><param name=\"movie\" value=\"'+settings.webcampath+'\" /><param name=\"wmode\" value=\"opaque\" /><!--[if !IE]>--><object type=\"application/x-shockwave-flash\" data=\"'+settings.webcampath+'\" width=\"'+settings.width+'\" height=\"'+settings.height+'\" id=\"webcam_flash\"><param name=\"wmode\" value=\"opaque\" /><!--<![endif]--><!--[if !IE]>--></object><!--<![endif]--></object>');\n\n        //console.log(\"After the object insertion\", vid.innerHTML);\n        EventListener.addEventListener(\"WEBCAM_READY\", function(){\n            camInitiated = true;\n        });\n\t};\n\n    function takePicture(evt) {\n\n        if(camInitiated){\n            if(!navigator.getUserMedia){\n                var flashCam = jsDom.nodeById(\"webcam_flash\");\n                if(flashCam!=null){\n                    var imageData = flashCam._snap();\n                    closeCam(false);\n                    var data = 'data:image/jpg;base64,' + imageData;\n                    EventListener.dispatch(\"ASK_FOR_CONFIRM\", this, data, {\"mirror\":false, \"enhancelight\":false});\n                }\n\n            }else{\n                var scale = vid.videoHeight/settings.height;\n               \n                if(isMirror){\n                    can.width = vid.videoWidth;\n                    can.height = vid.videoHeight;\n                    var ctx=can.getContext(\"2d\");\n\n                    ctx.scale(-1,1);\n                    ctx.drawImage(vid,0,0,-1*vid.videoWidth,vid.videoHeight);\n                }\n                else{\n                can.getContext(\"2d\").drawImage(vid, -1*parseInt(vid.style.left)*scale, -1*parseInt(vid.style.top)*scale, parseInt(settings.width)*scale, parseInt(settings.height)*scale, 0, 0, settings.width, settings.height);\n                \t\n                }\n                var img = can.toDataURL(\"image/png\");\n                closeCam(false);\n                EventListener.dispatch(\"ASK_FOR_CONFIRM\", this, img, {\"mirror\":isMirror, \"enhancelight\":isEnhancedLight});\n               \t}\n        }else{\n            // TODO: Add \"requestAllowCamera\" as public event.\n            EventListener.dispatch(\"requestAllowCamera\", this);\n        }\n\t};\n\n    function closeCam(needToReset) {\n\t\tif(navigator.getUserMedia){\n\t\t\tif(stream){\n\t\t\t\tstream.stop();\n\t\t\t}\n\t\t\tvar vid = jsDom.nodeById(\"tryon_webcam\");\n            //jsDom.remove(vid);\n\t\t\t\n\t\t\tif(needToReset==true){\n\t\t\t\tEventListener.dispatch(\"RESET_VIEW_DEFAULT\", this);\n\t\t\t}\n            EventListener.dispatch(\"WEBCAM_CLOSED\",this);\t\n           \n\t\t}else{\n            var videoDiv = jsDom.nodeById(\"tryon_webcam\");\n            jsDom.remove(videoDiv);\n            EventListener.dispatch(\"WEBCAM_CLOSED\",this);\n           }\n\t};\n\n\tfunction resetCam() {\n\t\t//vid = null;\n        stream = null;\n\t\tEventListener.removeEventListener(\"WEBCAM_CLOSE\", closeCam, _webcam);\n\t\tEventListener.removeEventListener(\"WEBCAM_TAKE_PICTURE\", takePicture, _webcam);\n\t};\n\n    function camDenied(){\n         var videoDiv = jsDom.nodeById(\"tryon_webcam\");\n         jsDom.remove(videoDiv);\n         startFlashCamera();\n    };\n\tfunction scaleToFit(srcwidth, srcheight, targetwidth, targetheight, fLetterBox) {\n\t    var result = { width: 0, height: 0, fScaleToTargetWidth: true };\n\t    if ((srcwidth <= 0) || (srcheight <= 0) || (targetwidth <= 0) || (targetheight <= 0)) {\n\t        return result;\n\t    };\n\t    // scale to the target width\n\t    var scaleX1 = targetwidth;\n\t    var scaleY1 = (srcheight * targetwidth) / srcwidth;\n\t    // scale to the target height\n\t    var scaleX2 = (srcwidth * targetheight) / srcheight;\n\t    var scaleY2 = targetheight;\n\t    // now figure out which one we should use\n\t    var fScaleOnWidth = (scaleX2 > targetwidth);\n\t    if (fScaleOnWidth) {\n\t        fScaleOnWidth = fLetterBox;\n\t    }\n\t    else {\n\t       fScaleOnWidth = !fLetterBox;\n\t    }\n\t    if (fScaleOnWidth) {\n\t        result.width = Math.floor(scaleX1);\n\t        result.height = Math.floor(scaleY1);\n\t        result.fScaleToTargetWidth = true;\n\t    }\n\t    else {\n\t        result.width = Math.floor(scaleX2);\n\t        result.height = Math.floor(scaleY2);\n\t        result.fScaleToTargetWidth = false;\n\t    }\n\t    result.targetleft = Math.floor((targetwidth - result.width) / 2);\n\t    result.targettop = Math.floor((targetheight - result.height) / 2);\n\t    return result;\n\t};\n\n\tfunction disabledEventPropagation(event) {\n\t \n\t   if (event.stopPropagation){\n\t       event.stopPropagation();\n\t   }\n\t   else if(window.event){\n\t      window.event.cancelBubble=true;\n\t   }\n\t};\n\n    function destroyAdditional(){\n        stream = null;\n        EventListener.removeEventListener(\"WEBCAM_CLOSE\", closeCam, _webcam);\n        EventListener.removeEventListener(\"WEBCAM_TAKE_PICTURE\", takePicture, _webcam);\n    };\n\t_webcam.setupCam();\n\n};","/**\n * Created by Studio on 16/Dec/14.\n */\nconst Tools = (function() {\n    // Private method //\n    var getBase64Image = function(img, quality) {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        var ctx = canvas.getContext(\"2d\");\n\n        //----- origin draw ---\n        ctx.imageSmoothingEnabled = true;\n        ctx.mozImageSmoothingEnabled = true;\n        ctx.oImageSmoothingEnabled = true;\n        ctx.webkitImageSmoothingEnabled = true;\n        ctx.drawImage(img, 0, 0, img.width, img.height);\n\n        //------ reduced draw ---\n        var canvas2 = document.createElement(\"canvas\");\n        canvas2.width = img.width * quality;\n        canvas2.height = img.height * quality;\n        var ctx2 = canvas2.getContext(\"2d\");\n        ctx.globalAlpha = 0.5;\n        ctx2.imageSmoothingEnabled = true;\n        ctx2.mozImageSmoothingEnabled = true;\n        ctx2.oImageSmoothingEnabled = true;\n        ctx2.webkitImageSmoothingEnabled = true;\n\n        ctx2.drawImage(canvas, 0, 0, img.width * quality, img.height * quality);\n\n        // -- back from reduced draw ---\n        ctx.globalCompositeOperation = \"overlay\";\n        ctx.drawImage(canvas2, 0, 0, img.width, img.height);\n        return canvas.toDataURL(\"image/png\");\n\n        // return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n    };\n\n    // Public method //\n    return {\n        reduceImage: function (img, quality) {\n            return getBase64Image(img, quality);\n        }\n    }\nvar getTransformData=function (container,cb){\n          var scale=1;\n          var fRotation=0;\n          var st = window.getComputedStyle(container, null);\n          var tr = st.getPropertyValue(\"-webkit-transform\") ||\n          st.getPropertyValue(\"-moz-transform\") ||\n          st.getPropertyValue(\"-ms-transform\") ||\n          st.getPropertyValue(\"-o-transform\") ||\n          st.getPropertyValue(\"transform\") ||\n          \"FAIL\";\n          if(tr!='none'){\n          console.log(tr);\n          var values = tr.split('(')[1].split(')')[0].split(',');\n          var a = values[0];\n          var b = values[1];\n          var c = values[2];\n          var d = values[3];\n          scale = Math.sqrt(a*a + b*b);\n          var fScale=scale*100;\n          var sin = b/scale;\n          var angle = Math.round(Math.atan2(b, a) * (180/Math.PI));\n          fRotation=angle;\n          \n          }\n          cb(scale,fRotation);\n    };\n\nreturn {\n        getTransformdata: function (container,cb) {\n            return getTransformData(container,cb);\n        }\n    }\n\n   \n})();\n\nexport default Tools;\n\n/*Tools.bar(); //FooStatic.barPrivate() called.*/","/**\n * Dragdealer.js 0.9.7\n * http://github.com/skidding/dragdealer\n *\n * (c) 2010+ Ovidiu Chereche\n * http://skidding.mit-license.org\n */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(factory);\n  } else {\n    // Browser globals\n    root.Dragdealer = factory();\n  }\n}(this, function () {\n\nvar Dragdealer = function(wrapper, options) {\n  /**\n   * Drag-based component that works around two basic DOM elements.\n   *\n   *   - The wrapper: The top-level element with the .dragdealer class. We\n   *                  create a Dragdealer instance with the wrapper as the\n   *                  first constructor parameter (it can either receive the ID\n   *                  of the wrapper, or the element itself.) The wrapper\n   *                  establishes the dragging bounds.\n   *\n   *   - The handle: A child of the wrapper element, div with a required\n   *                 .handle class (may be overridden in options). This will be\n   *                 the dragged element, constrained by the wrapper's bounds.\n   *\n   *\n   * The handle can be both smaller or bigger than the wrapper.\n   *\n   *   - When the handle is smaller, Dragdealer will act as a regular slider,\n   *     enabling the handle to be dragged from one side of the wrapper to\n   *     another.\n   *\n   *   - When the handle is bigger, Dragdealer will act a mask for a draggable\n   *     surface, where the handle is the draggable surface contrained by the\n   *     smaller bounds of the wrapper. The drag action in this case is used\n   *     to reveal and \"discover\" partial content at a time.\n   *\n   *\n   * Simple usage:\n   *\n   *   // JavaScript\n   *   new Dragdealer('simple-slider');\n   *\n   *   <!-- HTML -->\n   *   <div id=\"simple-slider\" class=\"dragdealer\">\n   *     <div class=\"handle\">drag me</div>\n   *   </div>\n   *\n   *\n   * The second parameter of the Dragdealer constructor is an object used for\n   * specifying any of the supported options. All of them are optional.\n   *\n   *   - bool disabled=false: Init Dragdealer in a disabled state. The handle\n   *                          will have a .disabled class.\n   *\n   *   - bool horizontal=true: Enable horizontal dragging.\n   *\n   *   - bool vertical=false: Enable vertical dragging.\n   *\n   *   - number x=0: Initial horizontal (left) position. Accepts a float number\n   *                 value between 0 and 1. Read below about positioning in\n   *                 Dragdealer.\n   *\n   *   - number y=0: Initial vertical (top) position. Accepts a float number\n   *                 value between 0 and 1. Read below about positoning in\n   *                 Dragdealer.\n   *\n   *   - number steps=0: Limit the positioning of the handle within the bounds\n   *                     of the wrapper, by defining a virtual grid made out of\n   *                     a number of equally-spaced steps. This restricts\n   *                     placing the handle anywhere in-between these steps.\n   *                     E.g. setting 3 steps to a regular slider will only\n   *                     allow you to move it to the left, to the right or\n   *                     exactly in the middle.\n   *\n   *   - bool snap=false: When a number of steps is set, snap the position of\n   *                      the handle to its closest step instantly, even when\n   *                      dragging.\n   *\n   *   - bool slide=true: Slide handle after releasing it, depending on the\n   *                      movement speed before the mouse/touch release. The\n   *                      formula for calculating how much will the handle\n   *                      slide after releasing it is defined by simply\n   *                      extending the movement of the handle in the current\n   *                      direction, with the last movement unit times four (a\n   *                      movement unit is considered the distance crossed\n   *                      since the last animation loop, which is currently\n   *                      25ms.) So if you were to drag the handle 50px in the\n   *                      blink of an eye, it will slide another 200px in the\n   *                      same direction. Steps interfere with this formula, as\n   *                      the closest step is calculated before the sliding\n   *                      distance.\n   *\n   *   - bool loose=false: Loosen-up wrapper boundaries when dragging. This\n   *                       allows the handle to be *slightly* dragged outside\n   *                       the bounds of the wrapper, but slides it back to the\n   *                       margins of the wrapper upon release. The formula for\n   *                       calculating how much the handle exceeds the wrapper\n   *                       bounds is made out of the actual drag distance\n   *                       divided by 4. E.g. Pulling a slider outside its\n   *                       frame by 100px will only position it 25px outside\n   *                       the frame.\n   *\n   *   - number top=0: Top padding between the wrapper and the handle.\n   *\n   *   - number bottom=0: Bottom padding between the wrapper and the handle.\n   *\n   *   - number left=0: Left padding between the wrapper and the handle.\n   *\n   *   - number right=0: Right padding between the wrapper and the handle.\n   *\n   *   - fn callback(x, y): Called when releasing handle, with the projected\n   *                        x, y position of the handle. Projected value means\n   *                        the value the slider will have after finishing a\n   *                        sliding animation, caused by either a step\n   *                        restriction or drag motion (see steps and slide\n   *                        options.) This implies that the actual position of\n   *                        the handle at the time this callback is called\n   *                        might not yet reflect the x, y values received.\n   *\n   *   - fn animationCallback(x, y): Called every animation loop, as long as\n   *                                 the handle is being dragged or in the\n   *                                 process of a sliding animation. The x, y\n   *                                 positional values received by this\n   *                                 callback reflect the exact position of the\n   *                                 handle DOM element, which includes\n   *                                 exceeding values (even negative values)\n   *                                 when the loose option is set true.\n   *\n   *   - string handleClass='handle': Custom class of handle element.\n   *\n   *   - bool css3=true: Use css3 transform in modern browsers instead of\n   *                     absolute positioning.\n   *\n   *   - fn customRequestAnimationFrame: Provide custom requestAnimationFrame\n   *                                     function (used in tests).\n   *   - fn customCancelAnimationFrame: Provide custom cancelAnimationFrame\n   *                                    function (used in tests).\n   *\n   * Dragdealer also has a few methods to interact with, post-initialization.\n   *\n   *   - disable: Disable dragging of a Dragdealer instance. Just as with the\n   *              disabled option, the handle will receive a .disabled class\n   *\n   *   - enable: Enable dragging of a Dragdealer instance. The .disabled class\n   *             of the handle will be removed.\n   *\n   *   - reflow: Recalculate the wrapper bounds of a Dragdealer instance, used\n   *             when the wrapper is responsive and its parent container\n   *             changed its size, or after changing the size of the wrapper\n   *             directly.\n   *\n   *   - getValue: Get the value of a Dragdealer instance programatically. The\n   *               value is returned as an [x, y] tuple and is the equivalent\n   *               of the (projected) value returned by the regular callback,\n   *               not animationCallback.\n   *\n   *   - getStep: Same as getValue, but the value returned is in step\n   *              increments (see steps option)\n   *\n   *   - setValue(x, y, snap=false): Set the value of a Dragdealer instance\n   *                                 programatically. The 3rd parameter allows\n   *                                 to snap the handle directly to the desired\n   *                                 value, without any sliding transition.\n   *\n   *   - setStep(x, y, snap=false): Same as setValue, but the value is received\n   *                                in step increments (see steps option)\n   *\n   *\n   * Positioning in Dragdealer:\n   *\n   *   Besides the top, bottom, left and right paddings, which represent a\n   *   number of pixels, Dragdealer uses a [0, 1]-based positioning. Both\n   *   horizontal and vertical positions are represented by ratios between 0\n   *   and 1. This allows the Dragdealer wrapper to have a responsive size and\n   *   not revolve around a specific number of pixels. This is how the x, y\n   *   options are set, what the callback args contain and what values the\n   *   setValue method expects. Once picked up, the ratios can be scaled and\n   *   mapped to match any real-life system of coordinates or dimensions.\n   */\n  this.options = this.applyDefaults(options || {});\n  this.bindMethods();\n  this.wrapper = this.getWrapperElement(wrapper);\n  if (!this.wrapper) {\n    return;\n  }\n  this.handle = this.getHandleElement(this.wrapper, this.options.handleClass);\n  if (!this.handle) {\n    return;\n  }\n  this.init();\n  this.bindEventListeners();\n};\n\n\nDragdealer.prototype = {\n  defaults: {\n    disabled: false,\n    horizontal: true,\n    vertical: false,\n    slide: true,\n    steps: 0,\n    snap: false,\n    loose: false,\n    speed: 0.1,\n    xPrecision: 0,\n    yPrecision: 0,\n    handleClass: 'handle',\n    css3: true,\n    activeClass: 'active',\n    tapping: true\n  },\n  init: function() {\n    if (this.options.css3) {\n      triggerWebkitHardwareAcceleration(this.handle);\n    }\n    this.value = {\n      prev: [-1, -1],\n      current: [this.options.x || 0, this.options.y || 0],\n      target: [this.options.x || 0, this.options.y || 0]\n    };\n    this.offset = {\n      wrapper: [0, 0],\n      mouse: [0, 0],\n      prev: [-999999, -999999],\n      current: [0, 0],\n      target: [0, 0]\n    };\n    this.change = [0, 0];\n    this.stepRatios = this.calculateStepRatios();\n\n    this.activity = false;\n    this.dragging = false;\n    this.tapping = false;\n\n    this.reflow();\n    if (this.options.disabled) {\n      this.disable();\n    }\n  },\n  applyDefaults: function(options) {\n    for (var k in this.defaults) {\n      if (!options.hasOwnProperty(k)) {\n        options[k] = this.defaults[k];\n      }\n    }\n    return options;\n  },\n  getWrapperElement: function(wrapper) {\n    if (typeof(wrapper) == 'string') {\n      return document.getElementById(wrapper);\n    } else {\n      return wrapper;\n    }\n  },\n  getHandleElement: function(wrapper, handleClass) {\n    var childElements,\n        handleClassMatcher,\n        i;\n    if (wrapper.getElementsByClassName) {\n      childElements = wrapper.getElementsByClassName(handleClass);\n      if (childElements.length > 0) {\n        return childElements[0];\n      }\n    } else {\n      handleClassMatcher = new RegExp('(^|\\\\s)' + handleClass + '(\\\\s|$)');\n      childElements = wrapper.getElementsByTagName('*');\n      for (i = 0; i < childElements.length; i++) {\n        if (handleClassMatcher.test(childElements[i].className)) {\n          return childElements[i];\n        }\n      }\n    }\n  },\n  calculateStepRatios: function() {\n    var stepRatios = [];\n    if (this.options.steps > 1) {\n      for (var i = 0; i <= this.options.steps - 1; i++) {\n        stepRatios[i] = i / (this.options.steps - 1);\n      }\n    }\n    return stepRatios;\n  },\n  setWrapperOffset: function() {\n    this.offset.wrapper = Position.get(this.wrapper);\n  },\n  calculateBounds: function() {\n    // Apply top/bottom/left and right padding options to wrapper extremities\n    // when calculating its bounds\n    var bounds = {\n      top: this.options.top || 0,\n      bottom: -(this.options.bottom || 0) + this.wrapper.offsetHeight,\n      left: this.options.left || 0,\n      right: -(this.options.right || 0) + this.wrapper.offsetWidth\n    };\n    // The available width and height represents the horizontal and vertical\n    // space the handle has for moving. It is determined by the width and\n    // height of the wrapper, minus the width and height of the handle\n    bounds.availWidth = (bounds.right - bounds.left) - this.handle.offsetWidth;\n    bounds.availHeight = (bounds.bottom - bounds.top) - this.handle.offsetHeight;\n    return bounds;\n  },\n  calculateValuePrecision: function() {\n    // The sliding transition works by dividing itself until it reaches a min\n    // value step; because Dragdealer works with [0-1] values, we need this\n    // \"min value step\" to represent a pixel when applied to the real handle\n    // position within the DOM. The xPrecision/yPrecision options can be\n    // specified to increase the granularity when we're controlling larger\n    // objects from one of the callbacks\n    var xPrecision = this.options.xPrecision || Math.abs(this.bounds.availWidth),\n        yPrecision = this.options.yPrecision || Math.abs(this.bounds.availHeight);\n    return [\n      xPrecision ? 1 / xPrecision : 0,\n      yPrecision ? 1 / yPrecision : 0\n    ];\n  },\n  bindMethods: function() {\n    if (typeof(this.options.customRequestAnimationFrame) === 'function') {\n      this.requestAnimationFrame = bind(this.options.customRequestAnimationFrame, window);\n    } else {\n      this.requestAnimationFrame = bind(requestAnimationFrame, window);\n    }\n    if (typeof(this.options.customCancelAnimationFrame) === 'function') {\n      this.cancelAnimationFrame = bind(this.options.customCancelAnimationFrame, window);\n    } else {\n      this.cancelAnimationFrame = bind(cancelAnimationFrame, window);\n    }\n    this.animateWithRequestAnimationFrame = bind(this.animateWithRequestAnimationFrame, this);\n    this.animate = bind(this.animate, this);\n    this.onHandleMouseDown = bind(this.onHandleMouseDown, this);\n    this.onHandleTouchStart = bind(this.onHandleTouchStart, this);\n    this.onDocumentMouseMove = bind(this.onDocumentMouseMove, this);\n    this.onWrapperTouchMove = bind(this.onWrapperTouchMove, this);\n    this.onWrapperMouseDown = bind(this.onWrapperMouseDown, this);\n    this.onWrapperTouchStart = bind(this.onWrapperTouchStart, this);\n    this.onDocumentMouseUp = bind(this.onDocumentMouseUp, this);\n    this.onDocumentTouchEnd = bind(this.onDocumentTouchEnd, this);\n    this.onHandleClick = bind(this.onHandleClick, this);\n    this.onWindowResize = bind(this.onWindowResize, this);\n  },\n  bindEventListeners: function() {\n    // Start dragging\n    addEventListener(this.handle, 'mousedown', this.onHandleMouseDown);\n    addEventListener(this.handle, 'touchstart', this.onHandleTouchStart);\n    // While dragging\n    addEventListener(document, 'mousemove', this.onDocumentMouseMove);\n    addEventListener(this.wrapper, 'touchmove', this.onWrapperTouchMove);\n    // Start tapping\n    addEventListener(this.wrapper, 'mousedown', this.onWrapperMouseDown);\n    addEventListener(this.wrapper, 'touchstart', this.onWrapperTouchStart);\n    // Stop dragging/tapping\n    addEventListener(document, 'mouseup', this.onDocumentMouseUp);\n    addEventListener(document, 'touchend', this.onDocumentTouchEnd);\n\n    addEventListener(this.handle, 'click', this.onHandleClick);\n    addEventListener(window, 'resize', this.onWindowResize);\n\n    this.animate(false, true);\n    this.interval = this.requestAnimationFrame(this.animateWithRequestAnimationFrame);\n\n  },\n  unbindEventListeners: function() {\n    removeEventListener(this.handle, 'mousedown', this.onHandleMouseDown);\n    removeEventListener(this.handle, 'touchstart', this.onHandleTouchStart);\n    removeEventListener(document, 'mousemove', this.onDocumentMouseMove);\n    removeEventListener(this.wrapper, 'touchmove', this.onWrapperTouchMove);\n    removeEventListener(this.wrapper, 'mousedown', this.onWrapperMouseDown);\n    removeEventListener(this.wrapper, 'touchstart', this.onWrapperTouchStart);\n    removeEventListener(document, 'mouseup', this.onDocumentMouseUp);\n    removeEventListener(document, 'touchend', this.onDocumentTouchEnd);\n    removeEventListener(this.handle, 'click', this.onHandleClick);\n    removeEventListener(window, 'resize', this.onWindowResize);\n    this.cancelAnimationFrame(this.interval);\n  },\n  onHandleMouseDown: function(e) {\n    Cursor.refresh(e);\n    preventEventDefaults(e);\n    stopEventPropagation(e);\n    this.activity = false;\n    this.startDrag();\n  },\n  onHandleTouchStart: function(e) {\n    Cursor.refresh(e);\n    // Unlike in the `mousedown` event handler, we don't prevent defaults here,\n    // because this would disable the dragging altogether. Instead, we prevent\n    // it in the `touchmove` handler. Read more about touch events\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Touch_events#Handling_clicks\n    stopEventPropagation(e);\n    this.activity = false;\n    this.startDrag();\n  },\n  onDocumentMouseMove: function(e) {\n    Cursor.refresh(e);\n    if (this.dragging) {\n      this.activity = true;\n    }\n  },\n  onWrapperTouchMove: function(e) {\n    Cursor.refresh(e);\n    // Dragging on a disabled axis (horizontal or vertical) shouldn't prevent\n    // defaults on touch devices. !this.activity denotes this is the first move\n    // inside a drag action; you can drag in any direction after this point if\n    // the dragging wasn't stopped\n    if (!this.activity && this.draggingOnDisabledAxis()) {\n      if (this.dragging) {\n        this.stopDrag();\n      }\n      return;\n    }\n    // Read comment in `onHandleTouchStart` above, to understand why we're\n    // preventing defaults here and not there\n    preventEventDefaults(e);\n    this.activity = true;\n  },\n  onWrapperMouseDown: function(e) {\n    Cursor.refresh(e);\n    preventEventDefaults(e);\n    this.startTap();\n  },\n  onWrapperTouchStart: function(e) {\n    Cursor.refresh(e);\n    preventEventDefaults(e);\n    this.startTap();\n  },\n  onDocumentMouseUp: function(e) {\n    this.stopDrag();\n    this.stopTap();\n  },\n  onDocumentTouchEnd: function(e) {\n    this.stopDrag();\n    this.stopTap();\n  },\n  onHandleClick: function(e) {\n    // We keep track if any dragging activity has been made between the\n    // mouse/touch down and up events; based on this we allow or cancel a click\n    // event from inside the handle. i.e. Click events shouldn't be triggered\n    // when dragging, but should be allowed when clicking still\n    if (this.activity) {\n      preventEventDefaults(e);\n      stopEventPropagation(e);\n    }\n  },\n  onWindowResize: function(e) {\n    this.reflow();\n  },\n  enable: function() {\n    this.disabled = false;\n    this.handle.className = this.handle.className.replace(/\\s?disabled/g, '');\n  },\n  disable: function() {\n    this.disabled = true;\n    this.handle.className += ' disabled';\n  },\n  reflow: function() {\n    this.setWrapperOffset();\n    this.bounds = this.calculateBounds();\n    this.valuePrecision = this.calculateValuePrecision();\n    this.updateOffsetFromValue();\n  },\n  getStep: function() {\n    return [\n      this.getStepNumber(this.value.target[0]),\n      this.getStepNumber(this.value.target[1])\n    ];\n  },\n  getValue: function() {\n    return this.value.target;\n  },\n  setStep: function(x, y, snap) {\n    this.setValue(\n      this.options.steps && x > 1 ? (x - 1) / (this.options.steps - 1) : 0,\n      this.options.steps && y > 1 ? (y - 1) / (this.options.steps - 1) : 0,\n      snap\n    );\n  },\n  setValue: function(x, y, snap) {\n    this.setTargetValue([x, y || 0]);\n    if (snap) {\n      this.groupCopy(this.value.current, this.value.target);\n      // Since the current value will be equal to the target one instantly, the\n      // animate function won't get to run so we need to update the positions\n      // and call the callbacks manually\n      this.updateOffsetFromValue();\n      this.callAnimationCallback();\n    }\n  },\n  startTap: function() {\n    if (this.disabled || !this.options.tapping) {\n      return;\n    }\n\n    this.tapping = true;\n    this.setWrapperOffset();\n\n    this.setTargetValueByOffset([\n      Cursor.x - this.offset.wrapper[0] - (this.handle.offsetWidth / 2),\n      Cursor.y - this.offset.wrapper[1] - (this.handle.offsetHeight / 2)\n    ]);\n  },\n  stopTap: function() {\n    if (this.disabled || !this.tapping) {\n      return;\n    }\n    this.tapping = false;\n\n    this.setTargetValue(this.value.current);\n  },\n  startDrag: function() {\n    if (this.disabled) {\n      return;\n    }\n    this.dragging = true;\n    this.setWrapperOffset();\n\n    this.offset.mouse = [\n      Cursor.x - Position.get(this.handle)[0],\n      Cursor.y - Position.get(this.handle)[1]\n    ];\n    if (!this.wrapper.className.match(this.options.activeClass)) {\n      this.wrapper.className += ' ' + this.options.activeClass;\n    }\n  },\n  stopDrag: function() {\n    if (this.disabled || !this.dragging) {\n      return;\n    }\n    this.dragging = false;\n\n    var target = this.groupClone(this.value.current);\n    if (this.options.slide) {\n      var ratioChange = this.change;\n      target[0] += ratioChange[0] * 4;\n      target[1] += ratioChange[1] * 4;\n    }\n    this.setTargetValue(target);\n    this.wrapper.className = this.wrapper.className.replace(' ' + this.options.activeClass, '');\n  },\n  callAnimationCallback: function() {\n    var value = this.value.current;\n    if (this.options.snap && this.options.steps > 1) {\n      value = this.getClosestSteps(value);\n    }\n    if (!this.groupCompare(value, this.value.prev)) {\n      if (typeof(this.options.animationCallback) == 'function') {\n        this.options.animationCallback.call(this, value[0], value[1]);\n      }\n      this.groupCopy(this.value.prev, value);\n    }\n  },\n  callTargetCallback: function() {\n    if (typeof(this.options.callback) == 'function') {\n      this.options.callback.call(this, this.value.target[0], this.value.target[1]);\n    }\n  },\n  animateWithRequestAnimationFrame: function (time) {\n    if (time) {\n      // using requestAnimationFrame\n      this.timeOffset = this.timeStamp ? time - this.timeStamp : 0;\n      this.timeStamp = time;\n    } else {\n      // using setTimeout(callback, 25) polyfill\n      this.timeOffset = 25;\n    }\n    this.animate();\n    this.interval = this.requestAnimationFrame(this.animateWithRequestAnimationFrame);\n  },\n  animate: function(direct, first) {\n    if (direct && !this.dragging) {\n      return;\n    }\n    if (this.dragging) {\n      var prevTarget = this.groupClone(this.value.target);\n\n      var offset = [\n        Cursor.x - this.offset.wrapper[0] - this.offset.mouse[0],\n        Cursor.y - this.offset.wrapper[1] - this.offset.mouse[1]\n      ];\n      this.setTargetValueByOffset(offset, this.options.loose);\n\n      this.change = [\n        this.value.target[0] - prevTarget[0],\n        this.value.target[1] - prevTarget[1]\n      ];\n    }\n    if (this.dragging || first) {\n      this.groupCopy(this.value.current, this.value.target);\n    }\n    if (this.dragging || this.glide() || first) {\n      this.updateOffsetFromValue();\n      this.callAnimationCallback();\n    }\n  },\n  glide: function() {\n    var diff = [\n      this.value.target[0] - this.value.current[0],\n      this.value.target[1] - this.value.current[1]\n    ];\n    if (!diff[0] && !diff[1]) {\n      return false;\n    }\n    if (Math.abs(diff[0]) > this.valuePrecision[0] ||\n        Math.abs(diff[1]) > this.valuePrecision[1]) {\n      this.value.current[0] += diff[0] * this.options.speed * this.timeOffset / 25;\n      this.value.current[1] += diff[1] * this.options.speed * this.timeOffset / 25;\n    } else {\n      this.groupCopy(this.value.current, this.value.target);\n    }\n    return true;\n  },\n  updateOffsetFromValue: function() {\n    if (!this.options.snap) {\n      this.offset.current = this.getOffsetsByRatios(this.value.current);\n    } else {\n      this.offset.current = this.getOffsetsByRatios(\n        this.getClosestSteps(this.value.current)\n      );\n    }\n    if (!this.groupCompare(this.offset.current, this.offset.prev)) {\n      this.renderHandlePosition();\n      this.groupCopy(this.offset.prev, this.offset.current);\n    }\n  },\n  renderHandlePosition: function() {\n\n    var transform = '';\n    if (this.options.css3 && StylePrefix.transform) {\n      if (this.options.horizontal) {\n        transform += 'translateX(' + this.offset.current[0] + 'px)';\n      }\n      if (this.options.vertical) {\n        transform += ' translateY(' + this.offset.current[1] + 'px)';\n      }\n      this.handle.style[StylePrefix.transform] = transform;\n      return;\n    }\n\n    if (this.options.horizontal) {\n      this.handle.style.left = this.offset.current[0] + 'px';\n    }\n    if (this.options.vertical) {\n      this.handle.style.top = this.offset.current[1] + 'px';\n    }\n  },\n  setTargetValue: function(value, loose) {\n    var target = loose ? this.getLooseValue(value) : this.getProperValue(value);\n\n    this.groupCopy(this.value.target, target);\n    this.offset.target = this.getOffsetsByRatios(target);\n\n    this.callTargetCallback();\n  },\n  setTargetValueByOffset: function(offset, loose) {\n    var value = this.getRatiosByOffsets(offset);\n    var target = loose ? this.getLooseValue(value) : this.getProperValue(value);\n\n    this.groupCopy(this.value.target, target);\n    this.offset.target = this.getOffsetsByRatios(target);\n  },\n  getLooseValue: function(value) {\n    var proper = this.getProperValue(value);\n    return [\n      proper[0] + ((value[0] - proper[0]) / 4),\n      proper[1] + ((value[1] - proper[1]) / 4)\n    ];\n  },\n  getProperValue: function(value) {\n    var proper = this.groupClone(value);\n\n    proper[0] = Math.max(proper[0], 0);\n    proper[1] = Math.max(proper[1], 0);\n    proper[0] = Math.min(proper[0], 1);\n    proper[1] = Math.min(proper[1], 1);\n\n    if ((!this.dragging && !this.tapping) || this.options.snap) {\n      if (this.options.steps > 1) {\n        proper = this.getClosestSteps(proper);\n      }\n    }\n    return proper;\n  },\n  getRatiosByOffsets: function(group) {\n    return [\n      this.getRatioByOffset(group[0], this.bounds.availWidth, this.bounds.left),\n      this.getRatioByOffset(group[1], this.bounds.availHeight, this.bounds.top)\n    ];\n  },\n  getRatioByOffset: function(offset, range, padding) {\n    return range ? (offset - padding) / range : 0;\n  },\n  getOffsetsByRatios: function(group) {\n    return [\n      this.getOffsetByRatio(group[0], this.bounds.availWidth, this.bounds.left),\n      this.getOffsetByRatio(group[1], this.bounds.availHeight, this.bounds.top)\n    ];\n  },\n  getOffsetByRatio: function(ratio, range, padding) {\n    return Math.round(ratio * range) + padding;\n  },\n  getStepNumber: function(value) {\n    // Translate a [0-1] value into a number from 1 to N steps (set using the\n    // \"steps\" option)\n    return this.getClosestStep(value) * (this.options.steps - 1) + 1;\n  },\n  getClosestSteps: function(group) {\n    return [\n      this.getClosestStep(group[0]),\n      this.getClosestStep(group[1])\n    ];\n  },\n  getClosestStep: function(value) {\n    var k = 0;\n    var min = 1;\n    for (var i = 0; i <= this.options.steps - 1; i++) {\n      if (Math.abs(this.stepRatios[i] - value) < min) {\n        min = Math.abs(this.stepRatios[i] - value);\n        k = i;\n      }\n    }\n    return this.stepRatios[k];\n  },\n  groupCompare: function(a, b) {\n    return a[0] == b[0] && a[1] == b[1];\n  },\n  groupCopy: function(a, b) {\n    a[0] = b[0];\n    a[1] = b[1];\n  },\n  groupClone: function(a) {\n    return [a[0], a[1]];\n  },\n  draggingOnDisabledAxis: function() {\n    return (!this.options.horizontal && Cursor.xDiff > Cursor.yDiff) ||\n           (!this.options.vertical && Cursor.yDiff > Cursor.xDiff);\n  }\n};\n\n\nvar bind = function(fn, context) {\n  /**\n   * CoffeeScript-like function to bind the scope of a method to an instance,\n   * the context of that method, regardless from where it is called\n   */\n  return function() {\n    return fn.apply(context, arguments);\n  };\n};\n\n// Cross-browser vanilla JS event handling\n\nvar addEventListener = function(element, type, callback) {\n  if (element.addEventListener) {\n    element.addEventListener(type, callback, false);\n  } else if (element.attachEvent) {\n    element.attachEvent('on' + type, callback);\n  }\n};\n\nvar removeEventListener = function(element, type, callback) {\n  if (element.removeEventListener) {\n    element.removeEventListener(type, callback, false);\n  } else if (element.detachEvent) {\n    element.detachEvent('on' + type, callback);\n  }\n};\n\nvar preventEventDefaults = function(e) {\n  if (!e) {\n    e = window.event;\n  }\n  if (e.preventDefault) {\n    e.preventDefault();\n  }\n  e.returnValue = false;\n};\n\nvar stopEventPropagation = function(e) {\n  if (!e) {\n    e = window.event;\n  }\n  if (e.stopPropagation) {\n    e.stopPropagation();\n  }\n  e.cancelBubble = true;\n};\n\n\nvar Cursor = {\n  /**\n   * Abstraction for making the combined mouse or touch position available at\n   * any time.\n   *\n   * It picks up the \"move\" events as an independent component and simply makes\n   * the latest x and y mouse/touch position of the user available at any time,\n   * which is requested with Cursor.x and Cursor.y respectively.\n   *\n   * It can receive both mouse and touch events consecutively, extracting the\n   * relevant meta data from each type of event.\n   *\n   * Cursor.refresh(e) is called to update the global x and y values, with a\n   * genuine MouseEvent or a TouchEvent from an event listener, e.g.\n   * mousedown/up or touchstart/end\n   */\n  x: 0,\n  y: 0,\n  xDiff: 0,\n  yDiff: 0,\n  refresh: function(e) {\n    if (!e) {\n      e = window.event;\n    }\n    if (e.type == 'mousemove') {\n      this.set(e);\n    } else if (e.touches) {\n      this.set(e.touches[0]);\n    }\n  },\n  set: function(e) {\n    var lastX = this.x,\n        lastY = this.y;\n    if (e.clientX || e.clientY) {\n      this.x = e.clientX;\n      this.y = e.clientY;\n    } else if (e.pageX || e.pageY) {\n      this.x = e.pageX - document.body.scrollLeft - document.documentElement.scrollLeft;\n      this.y = e.pageY - document.body.scrollTop - document.documentElement.scrollTop;\n    }\n    this.xDiff = Math.abs(this.x - lastX);\n    this.yDiff = Math.abs(this.y - lastY);\n  }\n};\n\n\nvar Position = {\n  /**\n   * Helper for extracting position of a DOM element, relative to the viewport\n   *\n   * The get(obj) method accepts a DOM element as the only parameter, and\n   * returns the position under a (x, y) tuple, as an array with two elements.\n   */\n  get: function(obj) {\n    // Dragdealer relies on getBoundingClientRect to calculate element offsets,\n    // but we want to be sure we don't throw any unhandled exceptions and break\n    // other code from the page if running from in very old browser that doesn't\n    // support this method\n    var rect = {left: 0, top: 0};\n    if (obj.getBoundingClientRect !== undefined) {\n      rect = obj.getBoundingClientRect();\n    }\n    return [rect.left, rect.top];\n  }\n};\n\n\nvar StylePrefix = {\n  transform: getPrefixedStylePropName('transform'),\n  perspective: getPrefixedStylePropName('perspective'),\n  backfaceVisibility: getPrefixedStylePropName('backfaceVisibility')\n};\n\nfunction getPrefixedStylePropName(propName) {\n  var domPrefixes = 'Webkit Moz ms O'.split(' '),\n      elStyle = document.documentElement.style;\n  if (elStyle[propName] !== undefined) return propName; // Is supported unprefixed\n  propName = propName.charAt(0).toUpperCase() + propName.substr(1);\n  for (var i = 0; i < domPrefixes.length; i++) {\n    if (elStyle[domPrefixes[i] + propName] !== undefined) {\n      return domPrefixes[i] + propName; // Is supported with prefix\n    }\n  }\n};\n\nfunction triggerWebkitHardwareAcceleration(element) {\n  if (StylePrefix.backfaceVisibility && StylePrefix.perspective) {\n    element.style[StylePrefix.perspective] = '1000px';\n    element.style[StylePrefix.backfaceVisibility] = 'hidden';\n  }\n};\n\nvar vendors = ['webkit', 'moz'];\nvar requestAnimationFrame = window.requestAnimationFrame;\nvar cancelAnimationFrame = window.cancelAnimationFrame;\n\nfor (var x = 0; x < vendors.length && !requestAnimationFrame; ++x) {\n  requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n  cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||\n                         window[vendors[x] + 'CancelRequestAnimationFrame'];\n}\n\nif (!requestAnimationFrame) {\n  requestAnimationFrame = function (callback) {\n    return setTimeout(callback, 25);\n  };\n  cancelAnimationFrame = clearTimeout;\n}\n\nreturn Dragdealer;\n\n}));","const jsDom = {\n\t/**\n\t * nodeName = node tag to create\n\t * noedAttrs = node attributes in obj {}\n\t * nodeHtml = data to put in node\n\t * otherNodeType = other node type parent/child\n\t * otherNode = other node\n\t * return\t::\tnode\n\t * */\n\tcreateNode: function (nodeName, nodeAttrs, nodeHtml, otherNodeType, otherNode, prepend) {\n\t\tvar node = document.createElement(nodeName);\n\t\tjsDom.setAttr(node, nodeAttrs);\n\t\tif (nodeHtml) {\n\t\t\tjsDom.html(node, nodeHtml);\n\t\t}\n\t\tswitch (otherNodeType) {\n\t\t\tcase 'parent':\n\t\t\t\tif (!prepend) {\n\t\t\t\t\tjsDom.append(otherNode, node);\n\t\t\t\t} else {\n\t\t\t\t\tjsDom.prepend(otherNode, node);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'child':\n\t\t\t\tif (!prepend) {\n\t\t\t\t\tjsDom.append(node, otherNode);\n\t\t\t\t} else {\n\t\t\t\t\tjsDom.prepend(node, otherNode);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn node;\n\t},\n\tremove: function (node) {\n\t\tvar e = jsDom.getNode(node);\n\t\tif (e.firstChild)\n\t\t\tjsDom.clearNode(e);\n\t\te.parentNode.removeChild(e);\n\t},\n\t/**\n\t * node = node name to remove child\n\t * */\n\tclearNode: function (node) {\n\t\twhile (node.firstChild) node.removeChild(node.firstChild);\n\t},\n\t/**\n\t * node = node to set attributes\n\t * attrs = attributes in obj {}\n\t * */\n\tsetAttr: function (node, attrs) {\n\t\tvar e = jsDom.getNode(node);\n\n\t\tfor (var k in attrs) {\n\t\t\tif (attrs.hasOwnProperty(k) && e !==null) {\n\t\t\t\te.setAttribute(k, attrs[k]);\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * node = node to put data\n\t * data = data\n\t * */\n\thtml: function (node, data) {\n\t\tvar e = jsDom.getNode(node);\n\t\te.innerHTML = data;\n\t},\n\t/**\n\t * parrent = parent node\n\t * node = node to append\n\t * */\n\tappend: function (parent, node) {\n\t\tvar p = jsDom.getNode(parent);\n\t\tvar c = jsDom.getNode(node);\n\t\tp.appendChild(c);\n\t},\n\tprepend: function (parent, node) {\n\t\tvar p = jsDom.getNode(parent);\n\t\tvar c = jsDom.getNode(node);\n\t\tp.insertBefore(c, p.childNodes[0] || null);\n\t},\n\t/**\n\t * liAttrs = list attributes\n\t * liHtml = list html data\n\t * return\t::\tli\n\t * */\n\tli: function (liAttrs, liHtml) {\n\t\tvar li = document.createElement('li');\n\t\tjsDom.setAttr(li, liAttrs);\n\t\tjsDom.html(li, liHtml);\n\t\treturn li;\n\t},\n\t/**\n\t * nodeName = node name for image container div/li\n\t * nodeAttrs = list attributes in obj form { } \n\t * imgAttrs = attributes for image\n\t * return\t::\tnode with image\n\t **/\n\tliImage: function (nodeName, nodeAttrs, imgAttrs) {\n\t\tvar img_div = jsDom.createNode(nodeName, nodeAttrs);\n\t\tvar image = jsDom.createNode(\"img\", imgAttrs, null, 'parent', img_div);\n\t\treturn img_div;\n\t},\n\t/**\n\t * node = parent node to append data\n\t * btnAttrs = button attributes\n\t * btnImgSrc = Source image for button (+,-,etc)\n\t * listenerToken = token for listener to add or remove\n\t * listenerValue = value for add/remove\n\t * obj = data to create cart list \n\t * */\n\tbutton: function (node, btnAttrs, btnHtml, btnImgSrc, listenerToken, listenerValue, obj) {\n\t\tvar btn = jsDom.createNode('button', btnAttrs);\n\t\tif (btnImgSrc)\n\t\t\tvar btnImg = jsDom.createNode('img', { 'src': btnImgSrc }, null, 'parent', btn);\n\t\telse\n\t\t\tjsDom.html(btn, btnHtml);\n\t\tnode.appendChild(btn);\n\t},\n\t/**\n\t * nodeId\t=\tnode id\n\t * func\t\t=\tdisplay : block/none\n\t * return\t::\tnode\n\t * */\n\tdisplayById: function (nodeId, func) {\n\t\tvar node = jsDom.nodeById(nodeId);\n\t\tif (func) jsDom.displayNode(node, func);\n\t\treturn node;\n\t},\n\t/**\n\t * node\t\t=\tnode\n\t * func\t\t=\tdisplay : block/none\n\t * */\n\tdisplayNode: function (node, func) {\n\t\tnode.style.display = func;\n\t},\n\t/**\n\t * node\t\t=\tnode\n\t * */\n\tshow: function (node) {\n\t\tjsDom.getNode(node).style.display = 'block';\n\t},\n\t/**\n\t * node\t\t=\tnode\n\t * */\n\thide: function (node) {\n\t\tjsDom.getNode(node).style.display = 'none';\n\t},\n\t/**\n\t * nodeId\t=\tnode id\n\t * html\t\t=\tdata to insert in node\n\t * return\t::\tnode\n\t * */\n\tnodeById: function (nodeId, html) {\n\t\tvar node = document.getElementById(nodeId);\n\t\tif (html)\n\t\t\tthis.html(node, html);\n\t\treturn node;\n\t},\n\t/**\n\t * nodeClass\t=\tnode class\n\t * return\t::\tnode\n\t * */\n\tnodeByClass: function (nodeClass) {\n\t\treturn document.getElementsByClassName(nodeClass);\n\t},\n\tcss: function (node, attrs) {\n\t\tvar e = jsDom.getNode(node);\n\t\tfor (var k in attrs) {\n\t\t\tif (attrs.hasOwnProperty(k)) {\n\t\t\t\te.style[k] = attrs[k];\n\t\t\t}\n\t\t}\n\t},\n\tgetProperty: function (node, prop, token) {\n\t\tvar e = jsDom.getNode(node);\n\t\tvar val = e[prop];\n\t\tif (token) {\n\t\t\treturn jsDom.makeInt(val);\n\t\t}\n\t\treturn val;\n\t},\n\tgetStyle: function (node, prop, token) {\n\t\tvar e = jsDom.getNode(node);\n\t\tvar val = e.style[prop];\n\t\tif (token) {\n\t\t\treturn jsDom.makeInt(val);\n\t\t}\n\t\treturn val;\n\t},\n\tremoveStyle: function (node, prop) {\n\t\tvar e = jsDom.getNode(node);\n\t\te.style.removeProperty(prop);\n\t},\n\tmakeInt: function (val) {\n\t\treturn val == \"\" ? 0 : parseInt(val);\n\t},\n\tgetNode: function (node) {\n\t\tif (typeof node != 'object')\n\t\t\treturn jsDom.nodeById(node);\n\t\treturn node;\n\t},\n\tsetBGOpacity: function (node, val) {\n\t\tvar e = jsDom.getNode(node);\n\t\te.style[\"-khtml-opacity\"] = val / 100;\n\t\te.style[\"-moz-opacity\"] = val / 100;\n\t\te.style[\"-ms-filter\"] = \"alpha(opacity=\" + val + \")\";\n\t\te.style[\"filter\"] = \"alpha(opacity=\" + val + \")\";\n\t\te.style[\"filter\"] = \"progid:DXImageTransform.Microsoft.Alpha(opacity=(\" + val / 100 + \"))\";\n\t\te.style[\"opacity\"] = val / 100;\n\t}\n}\n\nexport default jsDom;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","window.EventListener = require('./scripts/EventListener.js').default;\nwindow.Tryon = require('./scripts/Tryon.js').default;"],"names":[],"sourceRoot":""}